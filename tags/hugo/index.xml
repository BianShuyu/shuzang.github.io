<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Hugo - 标签 - Shuzang's Blog</title><link>https://shuzang.github.io/tags/hugo/</link><description>Hugo - 标签 - Shuzang's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>lylw1996@qq.com (shuzang)</managingEditor><webMaster>lylw1996@qq.com (shuzang)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 17 Nov 2019 00:00:00 +0000</lastBuildDate><atom:link href="https://shuzang.github.io/tags/hugo/" rel="self" type="application/rss+xml"/><item><title>hugo搭建个人博客5-博客收集</title><link>https://shuzang.github.io/hugo-blog-themes-collection/</link><pubDate>Sun, 17 Nov 2019 00:00:00 +0000</pubDate><author>作者</author><guid>https://shuzang.github.io/hugo-blog-themes-collection/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://cdn.wispx.cn/wallpaper/2018/07/08/8262676104910bcced443f4642bb2d22.jpg!wallpaper.detail" referrerpolicy="no-referrer">
            </div><p>本文用来收集喜欢的主题和有参考价值的博客(使用Hexo或Hugo的)。</p>
<h2 id="主题">主题</h2>
<ul>
<li><a href="https://github.com/liuzc/LeaveIt" target="_blank" rel="noopener noreffer">LeaveIt</a></li>
<li><a href="https://github.com/Fastbyte01/KeepIt" target="_blank" rel="noopener noreffer">KeepIt</a></li>
<li><a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer">LoveIt</a></li>
<li><a href="https://github.com/orianna-zzo/AllinOne" target="_blank" rel="noopener noreffer">AllinOne</a></li>
<li><a href="https://github.com/cofess/hexo-theme-pure" target="_blank" rel="noopener noreffer">hexo-theme-pure</a></li>
<li><a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank" rel="noopener noreffer">hexo-theme-Chic</a></li>
</ul>
<h2 id="博客">博客</h2>
<ul>
<li><a href="http://yearito.cn/" target="_blank" rel="noopener noreffer">Yearito&rsquo;s Blog</a></li>
<li><a href="https://learnblockchain.cn/" target="_blank" rel="noopener noreffer">深入浅出区块链</a></li>
<li><a href="https://siricee.github.io/" target="_blank" rel="noopener noreffer">Sirice&rsquo;s Blog</a></li>
<li><a href="https://mogeko.me/" target="_blank" rel="noopener noreffer">Mogeko&rsquo;s Blog</a></li>
<li><a href="https://huaien.co/" target="_blank" rel="noopener noreffer">Wyane&rsquo;s Blog</a></li>
<li><a href="https://dillonzq.com/" target="_blank" rel="noopener noreffer">Dillon&rsquo;s Blog</a></li>
<li><a href="https://orianna-zzo.github.io/AllinOne-html/" target="_blank" rel="noopener noreffer">Orianna的博客</a></li>
<li><a href="https://molunerfinn.com/" target="_blank" rel="noopener noreffer">MARKSZ的Blog</a>：PicGo的开发者</li>
<li><a href="https://liam.page/" target="_blank" rel="noopener noreffer">始终的博客</a>：Hexo-Next主题优秀博客</li>
</ul>
]]></description></item><item><title>hugo搭建个人博客4-主题美化</title><link>https://shuzang.github.io/hugo-blog-theme-beautify/</link><pubDate>Mon, 30 Sep 2019 00:00:00 +0000</pubDate><author>作者</author><guid>https://shuzang.github.io/hugo-blog-theme-beautify/</guid><description><![CDATA[<div class="featured-image">
                <img src="https://cdn.wispx.cn/wallpaper/2018/07/28/f45cfdcb1f79bc01d95c22adc63a2854.jpg!wallpaper.detail" referrerpolicy="no-referrer">
            </div><h2 id="1-基础知识">1. 基础知识</h2>
<p>通过一个简单的主题开发流程，理解需要的基本知识，为自己进行主题修改和美化打基础，这里参考<a href="https://github.com/digitalcraftsman/hugo-steam-theme/blob/master/exampleSite/content/post/creating-a-new-theme.md" target="_blank" rel="noopener noreffer">create a new theme</a>一文。</p>
<h3 id="开发准备">开发准备</h3>
<p>Ubuntu安装hugo</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ snap install hugo --channel<span class="o">=</span>extended
hugo <span class="o">(</span>extended/stable<span class="o">)</span> 0.58.3 from Hugo Authors installed
</code></pre></td></tr></table>
</div>
</div><p>该命令将安装<code>extended</code>Sass/SCSS版本(apt-get 安装的hugo版本较低)</p>
<p>建立博客文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hugo new site newTheme
$ ls -l
total <span class="m">28</span>
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 15:52 archetypes
-rw-r--r-- <span class="m">1</span> shuzang shuzang   <span class="m">82</span> Sep <span class="m">25</span> 15:52 config.toml
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 15:52 content
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 15:52 data
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 15:52 layouts
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 15:52 static
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 15:52 themes
</code></pre></td></tr></table>
</div>
</div><p>创建主题</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hugo new theme LeaveIt
$ find themes -type f <span class="p">|</span> xargs ls -l
-rw-r--r-- <span class="m">1</span> shuzang shuzang    <span class="m">8</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/archetypes/default.md
-rw-r--r-- <span class="m">1</span> shuzang shuzang    <span class="m">0</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/layouts/404.html
-rw-r--r-- <span class="m">1</span> shuzang shuzang    <span class="m">0</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/layouts/_default/list.html
-rw-r--r-- <span class="m">1</span> shuzang shuzang    <span class="m">0</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/layouts/_default/single.html
-rw-r--r-- <span class="m">1</span> shuzang shuzang    <span class="m">0</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/layouts/index.html
-rw-r--r-- <span class="m">1</span> shuzang shuzang    <span class="m">0</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/layouts/partials/footer.html
-rw-r--r-- <span class="m">1</span> shuzang shuzang    <span class="m">0</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/layouts/partials/header.html
-rw-r--r-- <span class="m">1</span> shuzang shuzang <span class="m">1081</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/LICENSE.md
-rw-r--r-- <span class="m">1</span> shuzang shuzang  <span class="m">436</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/theme.toml
</code></pre></td></tr></table>
</div>
</div><p><code>find themes -type f</code>将themes目录及其子目录的所有一般文件列出</p>
<p><code>xargs ls -l</code>在<code>find</code>命令基础上列出这些文件的基本信息</p>
<p>LeaveIt 包含 templates (以 .html为后缀的文件), license 文件, 主题描述 (theme.toml 文件), 和一个空的archetype.</p>
<p>license文件默认填充MIT协议</p>
<p>根据引号中的描述编辑theme.toml文件，声明主题基本信息，参照<a href="https://github.com/gohugoio/hugoThemes#themetoml" target="_blank" rel="noopener noreffer">hugoThemes</a>的说明</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ nano themes/LeaveIt/theme.toml
<span class="nv">name</span> <span class="o">=</span> <span class="s2">&#34;Theme Name&#34;</span>
<span class="nv">license</span> <span class="o">=</span> <span class="s2">&#34;MIT&#34;</span>
<span class="nv">licenselink</span> <span class="o">=</span> <span class="s2">&#34;Link to theme&#39;s license&#34;</span>
<span class="nv">description</span> <span class="o">=</span> <span class="s2">&#34;Theme description&#34;</span>
<span class="nv">homepage</span> <span class="o">=</span> <span class="s2">&#34;Website of your theme&#34;</span>
<span class="nv">tags</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&#34;blog&#34;</span>, <span class="s2">&#34;company&#34;</span><span class="o">]</span>
<span class="nv">features</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&#34;some&#34;</span>, <span class="s2">&#34;awesome&#34;</span>, <span class="s2">&#34;features&#34;</span><span class="o">]</span>
<span class="nv">min_version</span> <span class="o">=</span> <span class="s2">&#34;0.57.0&#34;</span>

<span class="o">[</span>author<span class="o">]</span>
    <span class="nv">name</span> <span class="o">=</span> <span class="s2">&#34;Your name&#34;</span>
    <span class="nv">homepage</span> <span class="o">=</span> <span class="s2">&#34;Your website&#34;</span>

<span class="c1"># If porting an existing theme</span>
<span class="o">[</span>original<span class="o">]</span>
    <span class="nv">author</span> <span class="o">=</span> <span class="s2">&#34;Name of original author&#34;</span>
    <span class="nv">homepage</span> <span class="o">=</span> <span class="s2">&#34;His/Her website&#34;</span>
    <span class="nv">repo</span> <span class="o">=</span> <span class="s2">&#34;Link to source code of original theme&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>编辑config.toml文件，在文件名添加theme字段，启用主题</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ nano config.toml
<span class="nv">baseURL</span> <span class="o">=</span> <span class="s2">&#34;http://example.org/&#34;</span>
<span class="nv">languageCode</span> <span class="o">=</span> <span class="s2">&#34;en-us&#34;</span>
<span class="nv">title</span> <span class="o">=</span> <span class="s2">&#34;My New Hugo Site&#34;</span>
<span class="nv">theme</span> <span class="o">=</span> <span class="s2">&#34;LeaveIt&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>重新生成网站，public文件夹和themes/LeaveIt都将生成js和css文件夹用于控制格式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hugo --verbose
$ ls -l public
total <span class="m">24</span>
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 15:56 categories
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:09 css
-rw-r--r-- <span class="m">1</span> shuzang shuzang  <span class="m">468</span> Sep <span class="m">25</span> 16:43 index.xml
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:09 js
-rw-r--r-- <span class="m">1</span> shuzang shuzang  <span class="m">437</span> Sep <span class="m">25</span> 16:43 sitemap.xml
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 15:56 tags
$ find themes/LeaveIt -type d <span class="p">|</span> xargs ls -ld
drwxr-xr-x <span class="m">5</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:32 themes/LeaveIt
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/archetypes
drwxr-xr-x <span class="m">4</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/layouts
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/layouts/_default
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/layouts/partials
drwxr-xr-x <span class="m">4</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/static
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/static/css
drwxr-xr-x <span class="m">2</span> shuzang shuzang <span class="m">4096</span> Sep <span class="m">25</span> 16:09 themes/LeaveIt/static/js
</code></pre></td></tr></table>
</div>
</div><h3 id="开发流程">开发流程</h3>
<p>删除public文件夹，执行hugo server命令并添加&ndash;watch参数，打开浏览器查看网站，修改主题文件，浏览器页面将会实时更改</p>
<p>建议：不要直接在主题上开发，使用git，在开发分支开发，确认功能无误后合并到主分支</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># 删除public文件夹</span>
$ rm -rf public
<span class="c1"># 以watch模式实时查看改动</span>
$ hugo server --watch --verbose
</code></pre></td></tr></table>
</div>
</div><p>更新Home Page 模板，位于layout/目录下：</p>
<ul>
<li>index.html</li>
<li>_default/list.html</li>
<li>_default/single.html</li>
</ul>
<p>现在，模板文件是空的，添加以下内容到模板文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ nano themes/LeaveIt/layouts/index.html
&lt;html&gt; 
&lt;body&gt; 
  &lt;p&gt;hugo says hello!&lt;/p&gt; 
&lt;/body&gt; 
&lt;/html&gt;
</code></pre></td></tr></table>
</div>
</div><p>浏览器将显示p标签中的语句</p>
<p>hugo中有三种类型的模板，home页面模板刚刚已修改，single类型的模板用于生成单个内容的文件，list类型的模板用于生成多个内容的文件，即single.html和list.html</p>
<p>还存在partial，content views和terms三种类型的模板，这里不做详细介绍。</p>
<p>更新index.html使之能显示主页</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  {{ range first 10 .Data.Pages }}
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  {{ end }}
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>hugo使用Go模板引擎，引擎将扫描模板文件中”{{“和”}}“中间的命令内容并执行，上面的index.html文件中包含三个命令</p>
<ol>
<li>range</li>
<li>.Title</li>
<li>end</li>
</ol>
<p>range是迭代器，用于遍历前十个page，hugo创建的每个html文件都属于page，所以遍历pages将查看创建的每个文件</p>
<p>.Title打印<code>title</code>变量的值，hugo从markdown文件前面的格式说明中获取该值</p>
<p>end结束range开启的迭代</p>
<p>hugo会在创建html文件前将所有内容加载到变量中，然后模板对其进行处理</p>
<p>因此，更新后的index.html文件将显示first.md和second.md两篇博文的标题</p>
<p>到此开发一个主题的所有知识就全部介绍完毕了，剩下的就是熟悉Go模板的命令及使用它。但这里还有一些内容可以令我们更容易地创建模板</p>
<p>修改single.html文件使之展示博文内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  {{ .Content }}
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>修改index.html为博文标题标题添加链接</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  {{ range first 10 .Data.Pages }}
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  {{ end }}
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>在content目录创建about.md文件，作为主页面顶级菜单</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">+++
title = &#34;about&#34;
description = &#34;about this site&#34;
date = &#34;2014-09-27&#34;
slug = &#34;about time&#34;
+++

<span class="gu">## about us
</span><span class="gu"></span>
i&#39;m speechless
</code></pre></td></tr></table>
</div>
</div><p>浏览器主页面将显示about菜单，单击即可跳转查看其内容，但它和博文标题放在一起，因此修改index.html文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>posts<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  {{ range first 10 .Data.Pages }}
    {{ if eq .Type &#34;post&#34;}}
      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    {{ end }}
  {{ end }}

  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>pages<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  {{ range .Data.Pages }}
    {{ if eq .Type &#34;page&#34; }}
      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    {{ end }}
  {{ end }}
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>主页面将分两部分显示：博文和页面。并链接到不同的页面。</p>
<p>改变配置文件中的permalinks，设置页面名</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="p">[</span><span class="nx">permalinks</span><span class="p">]</span>
	<span class="nx">page</span> <span class="p">=</span> <span class="s2">&#34;/:title/&#34;</span>
	<span class="nx">about</span> <span class="p">=</span> <span class="s2">&#34;/:filename/&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>如果模板文件存在重叠，可以把重叠部分以共享模板的形式放在themes/LeaveIt/layouts/partials/目录。通常，模板文件引用都会有一个指定的路径，但是partials没有，hugo会沿着TODO定义的搜索路径去使用，因此可以编辑这里的内容来覆盖主题的表达。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ vi themes/LeaveIt/layouts/partials/header.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;<span class="o">{{</span> .Title <span class="o">}}</span>&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

$ vi themes/LeaveIt/layouts/partials/footer.html
&lt;/body&gt;
&lt;/html&gt;
</code></pre></td></tr></table>
</div>
</div><p>partials和普通模板调用的不同是没有路径，比如</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">{{ template &#34;theme/partials/header.html&#34; . }}
vs
{{ partial &#34;header.html&#34; . }}
</code></pre></td></tr></table>
</div>
</div><p>更新index.html文件内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">{{ partial &#34;header.html&#34; . }}

  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>posts<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  {{ range first 10 .Data.Pages }}
    {{ if eq .Type &#34;post&#34;}}
      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    {{ end }}
  {{ end }}

  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>pages<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  {{ range .Data.Pages }}
    {{ if or (eq .Type &#34;page&#34;) (eq .Type &#34;about&#34;) }}
      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>{{ .Type }} - {{ .Title }} - {{ .RelPermalink }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    {{ end }}
  {{ end }}

{{ partial &#34;footer.html&#34; . }}
</code></pre></td></tr></table>
</div>
</div><p>更新single.html文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">{{ partial &#34;header.html&#34; . }}

  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  {{ .Content }}

{{ partial &#34;footer.html&#34; . }}
</code></pre></td></tr></table>
</div>
</div><p>此时浏览器中主页面about菜单将额外展示类型和标题</p>
<p>更新single.html文件，添加对博文日期的渲染</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">{{ partial &#34;header.html&#34; . }}

  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>{{ .Date.Format &#34;Mon, Jan 2, 2006&#34; }}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
  {{ .Content }}

{{ partial &#34;footer.html&#34; . }}
</code></pre></td></tr></table>
</div>
</div><p>此时浏览器博文页面将展示创建日期</p>
<p>有多种方式使日期只展示在博文页面中，一种是在index.html中添加if条件语间，另一种是为博文创建单独的模板。当主题比较复杂时，创建针对博文的单独模板</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ mkdir themes/LeaveIt/layouts/post
$ nano themes/LeaveIt/layouts/_default/single.html
<span class="o">{{</span> partial <span class="s2">&#34;header.html&#34;</span> . <span class="o">}}</span>

  &lt;h1&gt;<span class="o">{{</span> .Title <span class="o">}}</span>&lt;/h1&gt;
  <span class="o">{{</span> .Content <span class="o">}}</span>

<span class="o">{{</span> partial <span class="s2">&#34;footer.html&#34;</span> . <span class="o">}}</span>
$ nano themes/LeaveIt/layouts/post/single.html
<span class="o">{{</span> partial <span class="s2">&#34;header.html&#34;</span> . <span class="o">}}</span>

  &lt;h1&gt;<span class="o">{{</span> .Title <span class="o">}}</span>&lt;/h1&gt;
  &lt;h2&gt;<span class="o">{{</span> .Date.Format <span class="s2">&#34;Mon, Jan 2, 2006&#34;</span> <span class="o">}}</span>&lt;/h2&gt;
  <span class="o">{{</span> .Content <span class="o">}}</span>

<span class="o">{{</span> partial <span class="s2">&#34;footer.html&#34;</span> . <span class="o">}}</span>
</code></pre></td></tr></table>
</div>
</div><p>移除了默认的single模板中对日期的指定，而在post的single模板添加</p>
<p>至此对主题的基本结构有了了解，接下来应该进一步学习Hugo中Go模板的语法，参见<a href="https://github.com/digitalcraftsman/hugo-steam-theme/blob/master/exampleSite/content/post/goisforlovers.md" target="_blank" rel="noopener noreffer">Introduction to Go Templates</a></p>
<p>注意，以下的调整都是对原主题样式的调整，需要修改主题源码，因此最好clone主题仓库进行开发。</p>
<h2 id="2-调整引用样式">2. 调整引用样式</h2>
<p>主题原有的引用样式如下</p>
<blockquote>
<p>引用样式示例</p>
</blockquote>
<p>修改<code>assets/css/_common/_core/base.scss</code>文件如下调整引用样式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-diff" data-lang="diff">  }

  blockquote {
<span class="gd">-    font-size: 1rem;
</span><span class="gd">-    display: block;
</span><span class="gd">-    border-width: 1px 0;
</span><span class="gd">-    border-style: solid;
</span><span class="gd">-    border-color: $light-border-color;
</span><span class="gd">-    padding: 1.5em 1.2em 0.5em 1.2em;
</span><span class="gd">-    margin: 0 0 2em 0;
</span><span class="gd">-    position: relative;
</span><span class="gd">-
</span><span class="gd">-    &amp;:before {
</span><span class="gd">-      content: &#39;\201C&#39;;
</span><span class="gd">-      position: absolute;
</span><span class="gd">-      top: 0em;
</span><span class="gd">-      left: 50%;
</span><span class="gd">-      transform: translate(-50%, -50%);
</span><span class="gd">-      width: 3rem;
</span><span class="gd">-      height: 2rem;
</span><span class="gd">-      font: 6em/1.08em &#39;PT Sans&#39;, sans-serif;
</span><span class="gd">-      color: $light-post-link-color;
</span><span class="gd">-      text-align: center;
</span><span class="gd">-
</span><span class="gd">-       .dark-theme &amp;{
</span><span class="gd">-         color: $dark-post-link-color;
</span><span class="gd">-       }
</span><span class="gd">-    }
</span><span class="gd">-    &amp;:after {
</span><span class="gd">-      content: &#34;#blockquote&#34; attr(cite);
</span><span class="gd">-      display: block;
</span><span class="gd">-      text-align: right;
</span><span class="gd">-      font-size: 0.875em;
</span><span class="gd">-      color: $light-post-link-color;
</span><span class="gd">-
</span><span class="gd">-       .dark-theme &amp;{
</span><span class="gd">-         color: $dark-post-link-color;
</span><span class="gd">-       }
</span><span class="gd">-    }
</span><span class="gd"></span><span class="gi">+    font: 14px/22px normal helvetica, sans-serif;
</span><span class="gi">+    margin-top: 10px;
</span><span class="gi">+    margin-bottom: 10px;
</span><span class="gi">+    margin-left: 2%;
</span><span class="gi">+    margin-right: 0%;
</span><span class="gi">+    padding-left: 15px;
</span><span class="gi">+    padding-top: 10px;
</span><span class="gi">+    padding-right: 10px;
</span><span class="gi">+    padding-bottom: 10px;
</span><span class="gi">+    border-left: 3px solid #ccc;
</span><span class="gi">+    background-color:#f1f1f1;  
</span><span class="gi"></span>
    .dark-theme &amp; {
<span class="gd">-      border-color: $dark-border-color;
</span><span class="gd"></span><span class="gi">+      background-color:#252529;
</span><span class="gi"></span>    }
  } 
</code></pre></td></tr></table>
</div>
</div><h2 id="3-添加阅读进度条">3. 添加阅读进度条</h2>
<p>首先在<code>layouts/partials/header.html</code>文件中如下所示插入代码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-diff" data-lang="diff">&lt;nav class=&#34;navbar&#34;&gt;
<span class="gi">+    {{ if (and .IsPage (not .Params.notsb)) }}
</span><span class="gi">+        &lt;div class=&#34;top-scroll-bar&#34;&gt;&lt;/div&gt;
</span><span class="gi">+    {{ end }}
</span><span class="gi"></span>    &lt;div class=&#34;container&#34;&gt;
        &lt;div class=&#34;navbar-header header-logo&#34;&gt;
        	&lt;a href=&#34;{{ .Site.BaseURL }}&#34;&gt;{{ .Site.Title }}&lt;/a&gt;
<span class="gu">@@ -13,7 +16,10 @@
</span><span class="gu"></span>    &lt;/div&gt;
&lt;/nav&gt;
&lt;nav class=&#34;navbar-mobile&#34; id=&#34;nav-mobile&#34; style=&#34;display: none&#34;&gt;
<span class="gi">+    {{ if (and .IsPage (not .Params.notsb)) }}
</span><span class="gi">+        &lt;div class=&#34;top-scroll-bar&#34;&gt;&lt;/div&gt;
</span><span class="gi">+    {{ end }}
</span><span class="gi"></span>    &lt;div class=&#34;container&#34;&gt;
        &lt;div class=&#34;navbar-header&#34;&gt;
            &lt;div&gt;  &lt;a href=&#34;javascript:void(0);&#34; class=&#34;theme-switch&#34;&gt;&lt;i class=&#34;iconfont icon-sun&#34;&gt;&lt;/i&gt;&lt;/a&gt;&amp;nbsp;&lt;a href=&#34;{{.Site.BaseURL}}&#34;&gt;{{ .Site.Title }}&lt;/a&gt;&lt;/div&gt;
            &lt;div class=&#34;menu-toggle&#34;&gt;

</code></pre></td></tr></table>
</div>
</div><p>然后在<code>assets/css/_cusstom.scss</code>文件中添加进度条样式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scss" data-lang="scss"><span class="c1">// 顶部阅读进度条
</span><span class="c1"></span><span class="nc">.top-scroll-bar</span> <span class="p">{</span>
    <span class="nt">position</span><span class="nd">:</span> <span class="nt">fixed</span><span class="p">;</span>
    <span class="nt">top</span><span class="nd">:</span> <span class="nt">0</span><span class="p">;</span>
    <span class="nt">left</span><span class="nd">:</span> <span class="nt">0</span><span class="p">;</span>
    <span class="nt">z-index</span><span class="nd">:</span> <span class="nt">9999</span><span class="p">;</span>
    <span class="nt">display</span><span class="nd">:</span> <span class="nt">none</span><span class="p">;</span>
    <span class="nt">width</span><span class="nd">:</span> <span class="nt">0</span><span class="p">;</span>
    <span class="nt">height</span><span class="nd">:</span> <span class="nt">3px</span><span class="p">;</span>
    <span class="nt">background</span><span class="nd">:</span> <span class="nn">#ef3982</span><span class="p">;</span>
  <span class="p">}</span> 
</code></pre></td></tr></table>
</div>
</div><p>之后新建一个 js 脚本文件 <code>assets/js/_custom.js</code> ，来控制进度条</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// 顶部阅读进度条
</span><span class="c1"></span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">scroll</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;.top-scroll-bar&#34;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&#34;style&#34;</span><span class="p">,</span> <span class="s2">&#34;width: &#34;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">scrollTop</span><span class="p">()</span> <span class="o">/</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">height</span><span class="p">()</span> <span class="o">-</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">height</span><span class="p">())</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&#34;%; display: block;&#34;</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span> 
</code></pre></td></tr></table>
</div>
</div><p>最后， js 脚本引入到博客中，使其生效。</p>
<p>在 <code>/layouts/partials/js.html</code> 文件中添加以下内容，然后将 <code>$custom</code> 加入到变量 <code>$vendorscript</code> 中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">{{ $custom := resources.Get &#34;/js/_custom.js&#34; }}
</code></pre></td></tr></table>
</div>
</div><p>重新编译后预览博客就可以看到阅读进度条了。</p>
<h2 id="4-添加侧边栏目录">4. 添加侧边栏目录</h2>
<p>原本LeaveIt主题不支持文章目录导航，可以按如下方法添加，但样式不是很合适</p>
<p>首先在<code>/assets/css/_custom.scss</code>添加侧边栏目录(toc)样式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scss" data-lang="scss"><span class="c1">// 添加toc栏
</span><span class="c1"></span>  <span class="nc">.post-toc</span> <span class="p">{</span>
    <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="p">;</span>
    <span class="nt">width</span><span class="nd">:</span> <span class="nt">200px</span><span class="p">;</span>
    <span class="nt">margin-left</span><span class="nd">:</span> <span class="nt">800px</span><span class="p">;</span>
    <span class="nt">padding</span><span class="nd">:</span> <span class="nt">10px</span><span class="p">;</span>
    <span class="nt">word-wrap</span><span class="nd">:</span> <span class="nt">break-word</span><span class="p">;</span>
    <span class="nt">box-sizing</span><span class="nd">:</span> <span class="nt">border-box</span><span class="p">;</span>

    <span class="nc">.post-toc-title</span> <span class="p">{</span>
        <span class="nt">margin</span><span class="nd">:</span> <span class="nt">0</span><span class="p">;</span>
        <span class="nt">font-weight</span><span class="nd">:</span> <span class="nt">400</span><span class="p">;</span>
        <span class="nt">text-transform</span><span class="nd">:</span> <span class="nt">uppercase</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nc">.post-toc-content</span> <span class="p">{</span>
        <span class="k">&amp;</span><span class="nc">.always-active</span> <span class="nt">ul</span> <span class="p">{</span>
            <span class="nt">display</span><span class="nd">:</span> <span class="nt">block</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="o">&gt;</span><span class="nt">nav</span><span class="o">&gt;</span><span class="nt">ul</span> <span class="p">{</span>
            <span class="nt">margin</span><span class="nd">:</span> <span class="nt">10px</span> <span class="nt">0</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nt">ul</span> <span class="p">{</span>
            <span class="nt">padding-left</span><span class="nd">:</span> <span class="nt">0</span><span class="p">;</span>
            <span class="nt">list-style</span><span class="nd">:</span> <span class="nt">none</span><span class="p">;</span>

            <span class="nt">ul</span> <span class="p">{</span>
            <span class="nt">padding-left</span><span class="nd">:</span> <span class="nt">15px</span><span class="p">;</span>
            <span class="nt">display</span><span class="nd">:</span> <span class="nt">none</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="nc">.has-active</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="p">{</span>
                <span class="nt">display</span><span class="nd">:</span> <span class="nt">block</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>
        <span class="nt">color</span><span class="nd">:</span> <span class="nn">#c05b4d</span><span class="p">;</span>
        <span class="nt">-webkit-transform</span><span class="nd">:</span> <span class="nt">scale</span><span class="o">(</span><span class="nt">1</span><span class="nc">.1</span><span class="o">)</span><span class="p">;</span>
        <span class="nt">-ms-transform</span><span class="nd">:</span> <span class="nt">scale</span><span class="o">(</span><span class="nt">1</span><span class="nc">.1</span><span class="o">)</span><span class="p">;</span>
        <span class="nt">transform</span><span class="nd">:</span> <span class="nt">scale</span><span class="o">(</span><span class="nt">1</span><span class="nc">.1</span><span class="o">)</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nt">a</span> <span class="p">{</span>
        <span class="nt">display</span><span class="nd">:</span> <span class="nt">block</span><span class="p">;</span>
        <span class="nt">line-height</span><span class="nd">:</span> <span class="nt">30px</span><span class="p">;</span>
        <span class="nt">overflow</span><span class="nd">:</span> <span class="nt">hidden</span><span class="p">;</span>
        <span class="nt">white-space</span><span class="nd">:</span> <span class="nt">nowrap</span><span class="p">;</span>
        <span class="nt">text-overflow</span><span class="nd">:</span> <span class="nt">ellipsis</span><span class="p">;</span>
        <span class="nt">-webkit-transition-duration</span><span class="nd">:</span> <span class="nc">.2s</span><span class="p">;</span>
        <span class="nt">transition-duration</span><span class="nd">:</span> <span class="nc">.2s</span><span class="p">;</span>
        <span class="nt">-webkit-transition-property</span><span class="nd">:</span> <span class="nt">-webkit-transform</span><span class="p">;</span>
        <span class="nt">transition-property</span><span class="nd">:</span> <span class="nt">-webkit-transform</span><span class="p">;</span>
        <span class="nt">transition-property</span><span class="nd">:</span> <span class="nt">transform</span><span class="p">;</span>
        <span class="nt">transition-property</span><span class="nd">:</span> <span class="nt">transform</span><span class="o">,</span><span class="nt">-webkit-transform</span><span class="p">;</span>
        <span class="nt">-webkit-transition-timing-function</span><span class="nd">:</span> <span class="nt">ease-out</span><span class="p">;</span>
        <span class="nt">transition-timing-function</span><span class="nd">:</span> <span class="nt">ease-out</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">@media</span> <span class="n">only</span> <span class="n">screen</span> <span class="ow">and</span> <span class="p">(</span><span class="no">max-width</span><span class="o">:</span> <span class="mi">1224</span><span class="kt">px</span><span class="p">)</span> <span class="p">{</span>
    <span class="nc">.post-toc</span> <span class="p">{</span>
        <span class="nt">display</span><span class="nd">:</span> <span class="nt">none</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span> 
</code></pre></td></tr></table>
</div>
</div><p>然后在 <code>layouts/partials/</code> 下新建 <code>toc.html</code> 文件，内容如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;post-toc&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;post-toc&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">h2</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;post-toc-title&#34;</span><span class="p">&gt;</span>{{ T &#34;toc&#34; }}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
  {{ $globalAutoCollapseToc := .Site.Params.autoCollapseToc | default false }}
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;post-toc-content{{ if not (or .Params.autoCollapseToc (and $globalAutoCollapseToc (ne .Params.autoCollapseToc false))) }} always-active{{ end }}&#34;</span><span class="p">&gt;</span>
    {{.TableOfContents}}
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">fix</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.post-toc&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.post-comment&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">fixTop</span> <span class="o">=</span> <span class="nx">fix</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span><span class="p">,</span> <span class="nx">fixHeight</span> <span class="o">=</span> <span class="nx">fix</span><span class="p">.</span><span class="nx">height</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">endTop</span><span class="p">,</span> <span class="nx">miss</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">offsetTop</span> <span class="o">=</span> <span class="nx">fix</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">offsetTop</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">scroll</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">docTop</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">end</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">endTop</span> <span class="o">=</span> <span class="nx">end</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span><span class="p">;</span>
        <span class="nx">miss</span> <span class="o">=</span> <span class="nx">endTop</span> <span class="o">-</span> <span class="nx">docTop</span> <span class="o">-</span> <span class="nx">fixHeight</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">fixTop</span> <span class="o">&lt;</span> <span class="nx">docTop</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">fix</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">&#39;position&#39;</span><span class="o">:</span> <span class="s1">&#39;fixed&#39;</span> <span class="p">});</span>
        <span class="k">if</span> <span class="p">((</span><span class="nx">end</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">endTop</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nx">docTop</span> <span class="o">+</span> <span class="nx">fixHeight</span><span class="p">)))</span> <span class="p">{</span>
          <span class="nx">fix</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span> <span class="nx">top</span><span class="o">:</span> <span class="nx">miss</span> <span class="p">});</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">fix</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span> <span class="nx">top</span><span class="o">:</span> <span class="mi">0</span> <span class="p">});</span>
        <span class="p">}</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">fix</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">&#39;position&#39;</span><span class="o">:</span> <span class="s1">&#39;absolute&#39;</span> <span class="p">});</span>
        <span class="nx">fix</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span> <span class="nx">top</span><span class="o">:</span> <span class="nx">offsetTop</span> <span class="p">});</span>
      <span class="p">}</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</code></pre></td></tr></table>
</div>
</div><p>在文章页的模板 <code>layouts/_default/single.html</code> 中<code>&lt;/header&gt;</code>标签后引入toc模板</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"> {{ if ( .Site.Params.toc | default true ) }}
     {{ partial &#34;toc.html&#34; . }}
 {{ end }}
</code></pre></td></tr></table>
</div>
</div><p>添加后重新使用hugo生成静态页面，只要文章有多级标题，就能在侧边栏看到导航目录</p>
<p>最后在站点配置文件<code>config.toml</code>中添加如下配置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="nx">toc</span> <span class="p">=</span> <span class="kc">true</span>                <span class="c"># 是否开启目录</span>
<span class="nx">autoCollapseToc</span> <span class="p">=</span> <span class="kc">true</span>   <span class="c"># Auto expand and collapse toc</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="5-图片添加阴影">5. 图片添加阴影</h2>
<p>在 <code>assets/css/style.scss</code>中添加以下代码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scss" data-lang="scss"><span class="c1">// 图片阴影
</span><span class="c1"></span><span class="nc">.post-content</span> <span class="p">{</span>
	<span class="nt">img</span> <span class="p">{</span>
        <span class="nt">box-shadow</span><span class="nd">:</span> <span class="nt">0</span> <span class="nt">0</span> <span class="nt">15px</span> <span class="nt">5px</span> <span class="nt">rgba</span><span class="o">(</span><span class="nt">0</span><span class="o">,</span> <span class="nt">0</span><span class="o">,</span> <span class="nt">0</span><span class="o">,</span> <span class="nc">.28</span><span class="o">)</span><span class="p">;</span>
        <span class="nt">max-width</span><span class="nd">:</span> <span class="nt">1080px</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>]]></description></item><item><title>hugo搭建个人博客3-进阶设置</title><link>https://shuzang.github.io/hugo-blog-advanced-setup/</link><pubDate>Fri, 12 Jul 2019 00:00:00 +0000</pubDate><author>作者</author><guid>https://shuzang.github.io/hugo-blog-advanced-setup/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/hugo%e6%90%ad%e5%bb%ba%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a23-%e8%bf%9b%e9%98%b6%e8%ae%be%e7%bd%ae/%e4%b8%80%e8%89%98%e8%a2%ab%e6%89%93%e6%8d%9e%e4%b8%8a%e6%9d%a5%e7%9a%84%e6%b2%89%e8%88%b9%e6%ae%8b%e9%aa%b8.jpg" referrerpolicy="no-referrer">
            </div><p>本文是 Hugo 使用记录的第二篇，介绍如何为Hugo开启更多的功能。</p>
<h2 id="1-添加菜单栏页面">1. 添加菜单栏页面</h2>
<p>我们可以自己建立新的菜单页面<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> ，比如我新建<code>life</code>页面用作展示阅读的书籍、电影和游览的景点。建立页面文件的命令如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hugo new life.md
</code></pre></td></tr></table>
</div>
</div><p>然后编辑项目根目录下的站点配置文件<code>config.toml</code>，添加页面说明。其中<code>weight</code>字段的值决定了该页面在菜单栏的顺序<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>，其值越大，顺序越靠后。按照习惯，<code>About</code>页面放在最后，所以其<code>weight</code>字段值设置为5。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="c"># 添加Tags和Life菜单，并修改About菜单的weight字段值为5（为了调整菜单栏显示顺序）</span>
  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Tags&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/tags/&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">3</span>

  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Life&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/life/&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">4</span>
</code></pre></td></tr></table>
</div>
</div><p>新建的life.md文件位于content目录下，编辑文件内容从而决定实际的页面显示内容。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ ls content -l
total <span class="m">2</span>
-rw-r--r-- <span class="m">1</span> lylw1 <span class="m">197609</span>  <span class="m">658</span>  9月 <span class="m">16</span> 11:34 about.md
-rw-r--r-- <span class="m">1</span> lylw1 <span class="m">197609</span> <span class="m">3343</span>  9月 <span class="m">25</span> 11:34 life.md
</code></pre></td></tr></table>
</div>
</div><h2 id="2-字数统计">2. 字数统计</h2>
<p>中文(<a href="https://github.com/nodejh/hugo-theme-cactus-plus/issues/18" target="_blank" rel="noopener noreffer">详情</a>)统计的支持可以通过在<code>config.toml</code>中添加如下语句启用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="nx">hasCJKLanguage</span> <span class="p">=</span> <span class="kc">true</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="2-开启评论">2. 开启评论</h2>
<p>使用gitalk，首先在GitHub 上创建一个 <a href="https://github.com/settings/applications/new" target="_blank" rel="noopener noreffer">Github Application</a>，记录 <code>Client ID</code> 和 <code>Client Secret</code></p>
<p>然后编辑<code>config.toml</code>以下字段</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">gitalk</span><span class="p">]</span>
<span class="nx">owner</span> <span class="p">=</span> <span class="s2">&#34;shuzang&#34;</span>       <span class="c"># 你的GitHub ID       </span>
<span class="nx">repo</span> <span class="p">=</span> <span class="s2">&#34;blog&#34;</span>        <span class="c"># 博客网址    </span>
<span class="nx">clientId</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>    <span class="c"># 刚刚记录的client ID      </span>
<span class="nx">clientSecret</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span> <span class="c"># 刚刚记录的client secret</span>
<span class="nx">labels</span> <span class="p">=</span> <span class="s2">&#34;gitalk&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>提交到仓库后就能看到博文下开启了评论区</p>
<p>现在更换使用Valine评论系统，步骤暂未总结</p>
<h2 id="3-打赏">3. 打赏</h2>
<p>有些主题支持加入打赏图片，但KeepIt不支持，不过这里还是记录一下。利用<a href="http://www.9thws.com/#" target="_blank" rel="noopener noreffer">第九工厂</a>的免费模板制作好看的打赏二维码。</p>
<h2 id="4-英文url">4. 英文URL</h2>
<p>文章分享和访问时，中文URL是最麻烦的一件事情，为了解决这个问题，我阅读了一遍hugo文档中的<a href="https://gohugo.io/content-management/urls/" target="_blank" rel="noopener noreffer">URL Management</a>，最终决定使用如下办法。</p>
<p>首先修改站点配置文件<code>config.toml</code>中的<code>Permalinks</code>字段如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="p">[</span><span class="nx">Permalinks</span><span class="p">]</span>
 <span class="nx">posts</span> <span class="p">=</span> <span class="s2">&#34;/:year/:month/:slug/&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>初始状态该字段值为<code>posts = &quot;/:year/:month/:filename/&quot;</code>，使用文件名作为URL，但是文件名作为管理和查找的手段，使用英文较为不便，而文章标题为了便于阅读，也不方便命名为英文，只能使用额外的<code>slug</code>字段。</p>
<p>之后在每篇文章头部的配置信息中添加<code>slug</code>字段即可，一个例子如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="nx">title</span><span class="err">:</span> <span class="nx">Golang语法基础100问</span>
<span class="nx">date</span><span class="err">:</span> <span class="mi">2019-12-23</span>
<span class="nx">slug</span><span class="err">:</span> <span class="s2">&#34;100 question of Golang basic syntax&#34;</span>
<span class="nx">tags</span><span class="err">:</span> <span class="p">[</span><span class="nx">Golang</span><span class="p">]</span>
<span class="nx">categories</span><span class="err">:</span> <span class="p">[</span><span class="nx">爱编程爱技术的孩子</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><p>这篇文章最后的URL将会是<code>http://shuzang.github.io/2019/12/100-question-of-golang-basic-syntax/</code></p>
<h2 id="5-图片插入">5. 图片插入</h2>
<p>博客维护所面临的一个重要问题就是图床，一开始使用Github作为图床，后来迁移到Github issue，再后来因为图片经常加载不出来，迁移到了路过图床，不过用别的图床总归不放心，图片不多的情况下，最终决定将所有图片放到本地，操作步骤如下</p>
<p>首先，对于Hugo来说，所有的静态文件都应该位于根目录的static目录下，比如，我在该目录下存放了 <code>example.img</code> 图片，那么在文章中就可以用以下方式引用图片</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">![](/example.img)
</code></pre></td></tr></table>
</div>
</div><p>这是因为静态文件的查找规则就是以 static 为根目录，所以图片从这里寻找。为了保证清晰的文件结构，便于之后寻找图片，我们采用如下规则存放图片：一篇文章的所有图片放在以文章名命名的一个文件夹中，该文件夹放在<code>static/images</code>目录下。如本文文件名为「hugo搭建个人博客3-进阶设置」，则本文所有图片放在 <code>static/images/hugo搭建个人博客3-进阶设置</code>目录下，在文章中插入图片时，使用的路径为</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">![](/images/example.img)
</code></pre></td></tr></table>
</div>
</div><p>其中，example.img为图片名。至此为止，网页中可以正常显示插入的图片，但是Typora中无法显示图片，因此我们需要设置Typora的图片根目录，方法是在文章开头的YAML头中添加如下字段</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"></code></pre></td></tr></table>
</div>
</div><p>路径根据自己的文章位置而定，也可以在工具栏选择「格式—&gt;图像—&gt;设置图片根目录」，产生的效果是相同的，也是在文章头部添加该字段。</p>
<p>最后，我们在Typora的偏好设置中，设置插入图片时自动复制到相应的目录下即可，这样所有的图片都可以和博客代码存放在一起。、</p>
<p>这种方法唯一的缺点是所有图片和博客项目源码的总大小不能超过1G，因为一个Github项目空间最大1G</p>
<h2 id="6-自定义样式">6. 自定义样式</h2>
<p>通过定义自定义 <code>.scss</code> 样式文件, <strong>LoveIt</strong> 主题支持可配置的样式.</p>
<p>包含自定义 <code>.scss</code> 样式文件的目录相对于 <strong>你的项目根目录</strong> 的路径为 <code>config/css</code>.</p>
<p>在 <code>config/css/_override.scss</code> 中, 你可以覆盖 <code>themes/LoveIt/assets/css/_variables.scss</code> 中的变量以自定义样式.</p>
<p>这是一个例子:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scss" data-lang="scss"><span class="k">@import</span> <span class="sx">url(&#39;https://fonts.googleapis.com/css?family=Fira+Mono:400,700&amp;display=swap&amp;subset=latin-ext&#39;)</span><span class="p">;</span>
<span class="nv">$code-font-family</span><span class="o">:</span> <span class="n">Fira</span> <span class="n">Mono</span><span class="o">,</span> <span class="n">Source</span> <span class="n">Code</span> <span class="n">Pro</span><span class="o">,</span> <span class="n">Menlo</span><span class="o">,</span> <span class="n">Consolas</span><span class="o">,</span> <span class="n">Monaco</span><span class="o">,</span> <span class="no">monospace</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>在 <code>config/css/_custom.scss</code> 中, 你可以添加一些 CSS 样式代码以自定义样式.</p>
<h2 id="8-添加独立域名">8. 添加独立域名</h2>
<p>给部署在 GitHub Pages 上的博客添加独立域名，是早就想做的事，以前是因为没什么需求，.me域名比较贵，国内购买域名备案又比较麻烦，所以一直没做。这次选择了.top域名，买了三年才67，可以了，三年以后开始工作再考虑换.me域名，毕竟这个冷门的字段应该没人要。而且发现部署在github pages不需要备案，因为服务器不在国内。</p>
<h3 id="31-选购域名">3.1 选购域名</h3>
<p>可能很多人已经买好了域名了，你可以[跳过这部分](#GitHub 上的设置)</p>
<p>要想给博客绑定独立域名，首先你得拥有一个域名。得去域名注册网站购买域名，国内的域名商推荐<a href="https://wanwang.aliyun.com/" target="_blank" rel="noopener noreffer">万网</a>，国外的推荐 <a href="https://www.godaddy.com/" target="_blank" rel="noopener noreffer">GoDaddy</a>，因为他们分别是中国最大和世界最大的域名注册服务商。不了解的领域当然挑知名有信誉的总是没错的。</p>
<p>要是买<code>.me</code>域名就真的只能在GoDaddy买了，首年24，续费不知道，但是还需要购买隐私保护，这样就变成了每年60，要是工作后还负担的起，现在买这个还是算了。<code>.io</code>首年就320，更负担不起了。国内的话，<code>.com</code>，<code>.net</code>这些就不想了，基本都已经被注册了，于是选择了<code>.top</code>，一口气买了三年，一共67，而且在国内购买的好处是本身对WHOIS中的个人信息提供隐私保护。阿里云之前对域名提供的隐私保护服务已经停用了，主要是因为</p>
<blockquote>
<p>为落实<a href="https://www.icann.org/news/announcement-2018-05-22-zh" target="_blank" rel="noopener noreffer">ICANN临时规范</a>要求，自2018年5月25日起阿里云WHOIS查询公开信息中将不再显示域名注册人、管理联系人和技术联系人的个人数据，包括姓名、邮箱、电话、街道地址等。</p>
</blockquote>
<p>这样域名的注册信息已得到默认保护，不再需要额外开通隐私保护。</p>
<p>具体选购过程大致是：<strong>搜索域名 -&gt; 将喜欢的域名加入购物车 -&gt;选择域名注册模板(没有的话要创建)-&gt; 付款 -&gt; 购买成功</strong>，实际使用还需要进行邮箱验证和实名认证，否则域名无法启用。</p>
<p>最为繁琐的域名备案过程可以跳过，因为博客挂载在github pages，而只有服务器在国内的网站才需要备案。</p>
<h3 id="32-dns解析">3.2 DNS解析</h3>
<p>使用CNAME别名映射域名，比设置A记录更方便，最重要的是A记录无法开启https。参数设置如下图所示。</p>
<p></p>
<p>访问网址时可能会加www前缀，因此可以设置一个二级域名解析，方法相同。</p>
<h3 id="33-github-上的设置">3.3 GitHub 上的设置</h3>
<p>到 Github <code>shuzang.github.io</code>仓库设置里，在 <code>Custom domain</code> 这里填写<code>shuzang.top</code>域名并保存。</p>
<p></p>
<p><code>Custom domain</code> 下方 <code>Enforce HTTPS</code> 这个选项一并勾选，Github 跟 Let’s Encrypt 有合作，如果勾选了这个选项，Let’s Encrypt 就会给你的博客签发一张 SSL 证书，免费的。</p>
<p></p>
<p>发现上面这种方法每次提交后都需要重新填写<code>custom domin</code>字段，因此采用另一种方式，创建一个名为 <code>CNAME</code> 的文件放在<code>content</code>目录，其中的内容<strong>只</strong>写上你的域名，像这样</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">shuzang.top
</code></pre></td></tr></table>
</div>
</div><p>使用hugo命令生成文件会将CNAME文件直接复制到public目录，并通过持续集成将其推送到master分支根目录。</p>
<p>等几分钟 (刷新 DNS 缓存)，然后在浏览器中输入<code>shuzang.top</code>，回车，不出意外看到了自己的博客。</p>
<h3 id="34-其他玩法">3.4 其他玩法</h3>
<p>除了将域名绑定给博客外博客，还可以用域名干一些别的事。</p>
<p>比如，<strong>使用 A 记录将 <code>mail.shuzang.me</code> 这个二级域名指向 <code>207.46.149.80</code> 就可以 “搭建” 一个 <a href="http://mail.shuzang.top/" target="_blank" rel="noopener noreffer">临时邮箱</a>服务</strong> (感谢 <a href="https://moeclub.org/" target="_blank" rel="noopener noreffer">萌咖 | MoeClub.org</a> 提供的服务器)</p>
<p>如果你还有一台拥有<strong>公网 IP</strong> 的服务器，可玩性就更高了！</p>
<p>如果有能力，你甚至可以拥有自己的搜索引擎</p>
<h2 id="9-代码高亮">9. 代码高亮</h2>
<p>KeepIt主题本身对代码高亮的渲染是在本地执行的，使用的是<a href="https://github.com/google/code-prettify" target="_blank" rel="noopener noreffer">google code prettify</a>，高亮风格较少而且作者没提供配置选项，通过使用<code>Highlight.js</code>库可以自定义代码高亮格式<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>。</p>
<p>为了最大程度的保持原主题文件的代码，我们首先将主题文件夹下<code>layouts/partials/js.html</code>文件复制到Hugo项目文件夹，令其位于同样的目录，然后删除文件中的以下语句</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">{{ $prettify := resources.Get &#34;/js/prettify.min.js&#34; }}
</code></pre></td></tr></table>
</div>
</div><p>之后删除<code>js.html</code>文件中所有<code>$prettify</code>字段。</p>
<p>复制主题文件夹<code>layouts/partials/head.html</code>文件到项目文件夹，并添加如下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://cdn.bootcss.com/highlight.js/9.15.10/styles/atom-one-light.min.css&#34;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.bootcss.com/highlight.js/9.15.10/languages/go.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="nx">hljs</span><span class="p">.</span><span class="nx">initHighlightingOnLoad</span><span class="p">();&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>以上代码使用了<a href="https://www.bootcdn.cn/highlight.js/" target="_blank" rel="noopener noreffer">bootCDN</a>对<code>Highlight.js</code>进行加速，并额外添加了对go语言代码高亮的支持。</p>
<p>最后需要删除主题文件夹中的某些内容，包括</p>
<ol>
<li>
<p><code>assets/js/prettify.min.js</code>文件</p>
</li>
<li>
<p><code>assets/css/main.scss</code>的以下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scss" data-lang="scss"><span class="k">@import</span> <span class="s2">&#34;_common/_prettyprint/default.scss&#34;</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>此时代码就可以以浅色的atom格式高亮了，不过可惜的是不显示代码行数，就只能等以后再说了。</p>
<p>还要注意的是以后每次更新主题都要删除主题文件夹中以上两个内容。</p>
<h2 id="10-视频">10. 视频</h2>
<p>可以使用html代码直接在文章中嵌入视频，因为各视频网站一般会在分享链接中提供iframe格式的代码，以B站为例，复制如下代码放在文章中相应的位置即可</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;//player.bilibili.com/player.html?aid=75064361&#34;</span> <span class="na">scrolling</span><span class="o">=</span><span class="s">&#34;no&#34;</span> <span class="na">border</span><span class="o">=</span><span class="s">&#34;0&#34;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&#34;no&#34;</span> <span class="na">framespacing</span><span class="o">=</span><span class="s">&#34;0&#34;</span> <span class="na">allowfullscreen</span><span class="o">=</span><span class="s">&#34;true&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;width: 100%;height: 600px;&#34;</span> <span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>注意添加<code>style</code>字段调整高度与宽度，否则可能显示效果不会很好，上面的代码效果如下</p>
<iframe src="//player.bilibili.com/player.html?aid=75064361" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 100%;height: 600px;" > </iframe>
<p>也可以使用短代码来完成，Hugo提供了<a href="https://gohugo.io/templates/shortcode-templates/" target="_blank" rel="noopener noreffer">Shortcodes</a>功能可以帮助我们定制一些语法，仍以B站视频为例，在项目根目录建立<code>/layouts/shortcodes</code>文件夹，在该文件夹内新建<code>bilibili.html</code>文件，文件内容编辑如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;//player.bilibili.com/player.html?aid={{ .Get 0 }}&#34;</span> 
        <span class="na">scrolling</span><span class="o">=</span><span class="s">&#34;no&#34;</span> <span class="na">border</span><span class="o">=</span><span class="s">&#34;0&#34;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&#34;no&#34;</span> <span class="na">framespacing</span><span class="o">=</span><span class="s">&#34;0&#34;</span> 
        <span class="na">allowfullscreen</span><span class="o">=</span><span class="s">&#34;true&#34;</span> 
        <span class="na">style</span><span class="o">=</span><span class="s">&#34;width: 100%;height: 600px;&#34;</span> <span class="p">&gt;</span> 
<span class="p">&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>以后在文章中添加视频就可以使用如下格式的代码，其中的参数为视频代码，可以在视频URL中找到</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">video <span class="m">75064361</span>
</code></pre></td></tr></table>
</div>
</div><p>使用iframe即使在本地的Typora编辑器也可以查看效果，但是代码较多，而是用shortcodes可以精简代码，但只有开启预览或将文章推送到云端才能看到，各有利弊，自己权衡。</p>
<p>最后还需要提一点，引入视频会导致网页加载速度大幅下滑，如非必要，最好不要引入。</p>
<h2 id="11-音频">11. 音频</h2>
<p>在文章中嵌入音频也是一个需求，尤其是歌曲，使用频率比较高，我们在这里注意使用使用 <a href="https://github.com/MoePlayer/APlayer" target="_blank" rel="noopener noreffer">APlayer</a> 和 <a href="https://github.com/metowolf/MetingJS" target="_blank" rel="noopener noreffer">MetingJS</a> 完成这一功能。</p>
<p>在<code>layouts</code>目录下的head.html文件中添加如下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!-- require APlayer --&gt;</span>
<span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c">&lt;!-- require MetingJS --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>然后在文章中可以通过如下语句添加音频</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">meting-js</span> <span class="na">auto</span><span class="o">=</span><span class="s">&#34;https://y.qq.com/n/yqq/song/000xRG4E4diqXD.html&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">meting-js</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>播放链接可以通过浏览器从各音乐平台获取，当然，和视频一样使用iframe格式的代码嵌入也是可以的</p>
<p>最后，也可以使用shortcodes缩短音频代码，在<code>layouts/shortcodes</code>目录下新建audio.html文件，编辑内容如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">meting-js</span> <span class="na">auto</span><span class="o">=</span><span class="s">{{</span> <span class="err">.</span><span class="na">Get</span> <span class="na">0</span> <span class="err">}}</span><span class="p">&gt;&lt;/</span><span class="nt">meting-js</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>在文章中就可以像下面这样使用，参数为音频网址</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">audio  <span class="s2">&#34;https://y.qq.com/n/yqq/song/000xRG4E4diqXD.html&#34;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="12-数学公式">12. 数学公式</h2>
<p>文章中使用数学公式也是一种需求，但是Hugo本身不提供对这种语法的支持，KeepIt主题也没有提供这个功能，因此需要自己添加<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>。</p>
<p>主要方法是在已经生成好的HTML页面中使用JavaScript来渲染LaTex形式的数学公式，因此选择了这方面最流行的库<a href="https://www.mathjax.org/" target="_blank" rel="noopener noreffer">MathJax</a>。</p>
<p>与代码相同，数学公式也有行内(inline)和区块(block)两种，下面展示了这两种写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-latex" data-lang="latex">When <span class="s">$</span><span class="nb">a </span><span class="nv">\ne</span><span class="nb"> </span><span class="m">0</span><span class="s">$</span>, there are two solutions to `<span class="s">\(</span><span class="nb">ax^</span><span class="m">2</span><span class="nb"> </span><span class="o">+</span><span class="nb"> bx </span><span class="o">+</span><span class="nb"> c </span><span class="o">=</span><span class="nb"> </span><span class="m">0</span><span class="s">\)</span>` and they are:

<span class="sb">$$</span><span class="nb">x </span><span class="o">=</span><span class="nb"> {</span><span class="o">-</span><span class="nb">b </span><span class="nv">\pm</span><span class="nb"> </span><span class="nv">\sqrt</span><span class="nb">{b^</span><span class="m">2</span><span class="o">-</span><span class="m">4</span><span class="nb">ac} </span><span class="nv">\over</span><span class="nb"> </span><span class="m">2</span><span class="nb">a}</span><span class="s">$$</span>
</code></pre></td></tr></table>
</div>
</div><p>Hugo官方其实给了一个<a href="https://gohugo.io/content-management/formats/#enable-mathjax" target="_blank" rel="noopener noreffer">解决办法</a>，分为三步：</p>
<ol>
<li>
<p>引入<code>&lt;script&gt;</code>标签</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/javascript&#34;</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&#34;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML&#34;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>需要确保这段代码嵌入网站所有页面中，因此把它添加到<code>layouts/partials/head.html</code>文件中。</p>
</li>
<li>
<p>行内公式和特殊字符转义</p>
<p>第一步执行完后行内公式依然无法显示，如下划线<code>_</code>等特殊字符转义也有问题。因此需要继续添加如下代码，仍然是<code>layouts/partials/head.html</code>文件，两段代码前者做了一些配置，后者自动给<code>className</code>加<code>has-jax</code>后缀。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/x-mathjax-config&#34;</span><span class="o">&gt;</span>
<span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">({</span>
  <span class="nx">tex2jax</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">inlineMath</span><span class="o">:</span> <span class="p">[[</span><span class="s1">&#39;$&#39;</span><span class="p">,</span><span class="s1">&#39;$&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;\\(&#39;</span><span class="p">,</span><span class="s1">&#39;\\)&#39;</span><span class="p">]],</span>
    <span class="nx">displayMath</span><span class="o">:</span> <span class="p">[[</span><span class="s1">&#39;$$&#39;</span><span class="p">,</span><span class="s1">&#39;$$&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;\[&#39;</span><span class="p">,</span><span class="s1">&#39;\]&#39;</span><span class="p">]],</span>
    <span class="nx">processEscapes</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">processEnvironments</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">skipTags</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;script&#39;</span><span class="p">,</span> <span class="s1">&#39;noscript&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="s1">&#39;textarea&#39;</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">],</span>
    <span class="nx">TeX</span><span class="o">:</span> <span class="p">{</span> <span class="nx">equationNumbers</span><span class="o">:</span> <span class="p">{</span> <span class="nx">autoNumber</span><span class="o">:</span> <span class="s2">&#34;AMS&#34;</span> <span class="p">},</span>
         <span class="nx">extensions</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;AMSmath.js&#34;</span><span class="p">,</span> <span class="s2">&#34;AMSsymbols.js&#34;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
   
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/x-mathjax-config&#34;</span><span class="o">&gt;</span>
  <span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Queue</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Fix &lt;code&gt; tags after MathJax finishes running. This is a
</span><span class="c1"></span>    <span class="c1">// hack to overcome a shortcoming of Markdown. Discussion at
</span><span class="c1"></span>    <span class="c1">// https://github.com/mojombo/jekyll/issues/199
</span><span class="c1"></span>    <span class="kd">var</span> <span class="nx">all</span> <span class="o">=</span> <span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">getAllJax</span><span class="p">(),</span> <span class="nx">i</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">all</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">all</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">SourceElement</span><span class="p">().</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">className</span> <span class="o">+=</span> <span class="s1">&#39; has-jax&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>CSS调整</p>
<p>最后还需要在CSS中对这种特殊的MathJax进行样式处理，否则行内公式的显示会很奇怪。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="nt">code</span><span class="p">.</span><span class="nc">has-jax</span> <span class="p">{</span>
    <span class="k">font</span><span class="p">:</span> <span class="kc">inherit</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">background</span><span class="p">:</span> <span class="kc">inherit</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span> <span class="kc">inherit</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#515151</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>然后以上方法步骤繁琐最后还不一定起作用，因此采用把所有修改写成一个<code>layouts/partials/mathjax.html</code>文件的方法，把官方提到的三处修改合并成一个partial，然后把MathJax的CDN修改到国内。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span>
        <span class="na">async</span>
        <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML&#34;</span><span class="p">&gt;</span>
<span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">({</span>
  <span class="nx">tex2jax</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">inlineMath</span><span class="o">:</span> <span class="p">[[</span><span class="s1">&#39;$&#39;</span><span class="p">,</span><span class="s1">&#39;$&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;\\(&#39;</span><span class="p">,</span><span class="s1">&#39;\\)&#39;</span><span class="p">]],</span>
    <span class="nx">displayMath</span><span class="o">:</span> <span class="p">[[</span><span class="s1">&#39;$$&#39;</span><span class="p">,</span><span class="s1">&#39;$$&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;\[&#39;</span><span class="p">,</span><span class="s1">&#39;\]&#39;</span><span class="p">]],</span>
    <span class="nx">processEscapes</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">processEnvironments</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">skipTags</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;script&#39;</span><span class="p">,</span> <span class="s1">&#39;noscript&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="s1">&#39;textarea&#39;</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">],</span>
    <span class="nx">TeX</span><span class="o">:</span> <span class="p">{</span> <span class="nx">equationNumbers</span><span class="o">:</span> <span class="p">{</span> <span class="nx">autoNumber</span><span class="o">:</span> <span class="s2">&#34;AMS&#34;</span> <span class="p">},</span>
         <span class="nx">extensions</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;AMSmath.js&#34;</span><span class="p">,</span> <span class="s2">&#34;AMSsymbols.js&#34;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Queue</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Fix &lt;code&gt; tags after MathJax finishes running. This is a
</span><span class="c1"></span>    <span class="c1">// hack to overcome a shortcoming of Markdown. Discussion at
</span><span class="c1"></span>    <span class="c1">// https://github.com/mojombo/jekyll/issues/199
</span><span class="c1"></span>    <span class="kd">var</span> <span class="nx">all</span> <span class="o">=</span> <span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">getAllJax</span><span class="p">(),</span> <span class="nx">i</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">all</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">all</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">SourceElement</span><span class="p">().</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">className</span> <span class="o">+=</span> <span class="s1">&#39; has-jax&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="nt">code</span><span class="p">.</span><span class="nc">has-jax</span> <span class="p">{</span>
    <span class="k">font</span><span class="p">:</span> <span class="kc">inherit</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">background</span><span class="p">:</span> <span class="kc">inherit</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span> <span class="kc">inherit</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#515151</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>最后把以上partial模板添加到<code>head.html</code>模板中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">{{ partial &#34;mathjax.html&#34; . }}
</code></pre></td></tr></table>
</div>
</div><p>但直接修改主题中的文件并不合适，因为原作者可能会进行一定的更新（对我这样的半吊子很依赖作者对主题的更新），好在Hugo对文件的寻找是有优先级的，会首先在项目文件中寻找相应的渲染模板，然后才去主题文件夹寻找，因此将<code>layouts/partials/mathjax.html</code>和<code>layouts/partials/head.html</code>这两个修改后的文件复制到Hugo项目的相同位置，此时就可以直接反馈在页面上了。此时在hugo项目根目录查看目录结构如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ ls
archetypes/  content/  layouts/    static/
config.toml  data/     resources/  themes/

$ find layouts -type f <span class="p">|</span> xargs ls -l
-rw-r--r-- <span class="m">1</span> lylw1 <span class="m">197609</span> <span class="m">2679</span> 11月 <span class="m">12</span> 15:51 layouts/partials/head.html
-rw-r--r-- <span class="m">1</span> lylw1 <span class="m">197609</span> <span class="m">1056</span> 11月 <span class="m">12</span> 15:51 layouts/partials/mathjax.html

</code></pre></td></tr></table>
</div>
</div><h2 id="待完成">待完成</h2>
<ul>
<li>RSS</li>
<li>站内搜索</li>
<li>CDN，可参考<a href="https://mogeko.me/2019/056/" target="_blank" rel="noopener noreffer">为博客添加免费的 CDN (Cloudflare)</a></li>
<li>SEO</li>
</ul>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://gohugo.io/templates/menu-templates/" target="_blank" rel="noopener noreffer">菜单栏添加页面</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p><a href="https://discourse.gohugo.io/t/ordering-menu-items/1841" target="_blank" rel="noopener noreffer">菜单栏标题排序</a> <a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p><a href="https://note.qidong.name/2017/06/24/hugo-highlight" target="_blank" rel="noopener noreffer">Hugo中添加代码高亮支持</a> <a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>
]]></description></item><item><title>hugo搭建个人博客2-文章写作</title><link>https://shuzang.github.io/hugo-blog-article-write/</link><pubDate>Wed, 15 May 2019 00:00:00 +0000</pubDate><author>作者</author><guid>https://shuzang.github.io/hugo-blog-article-write/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/hugo%e6%90%ad%e5%bb%ba%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a22-%e6%96%87%e7%ab%a0%e5%86%99%e4%bd%9c/%e5%8c%97%e6%ac%a7%e7%91%9e%e5%85%b8%e8%87%aa%e7%84%b6%e9%a3%8e%e5%85%89.jpg" referrerpolicy="no-referrer">
            </div><p>本文是 Hugo 使用记录的第二篇，介绍关于文章写作的一些问题，包括分类管理、排版技巧、特殊语法等，所有语法基于 LoveIt 主题。</p>
<p>Hugo支持的文章格式为<code>.md</code>，即用markdown语言编辑的文章。所有的文章都放在<code>content/posts</code>目录下，支持级联目录，即在<code>posts</code>目录下按分类建立多个子文件夹放置文章，比如本博客的文章按分类放在四个子文件夹下。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ ls posts
爱编程爱技术的孩子/  我所热爱的生活啊/
平日里的白日梦/      研究生的区块链学习之路/
</code></pre></td></tr></table>
</div>
</div><p>下面是三条方便清晰管理和生成文章的目录结构建议:</p>
<ul>
<li>保持博客文章存放在 <code>content/posts</code> 目录, 例如: <code>content/posts/我的第一篇文章.md</code></li>
<li>保持简单的静态页面存放在 <code>content</code> 目录, 例如: <code>content/about.md</code></li>
<li>保持图片之类的媒体资源存放在 <code>static</code> 目录, 例如: <code>static/images/screenshot.png</code></li>
</ul>
<h2 id="1-前置参数">1. 前置参数</h2>
<p>Hugo 允许在文章内容前面添加 <code>yaml</code>, <code>toml</code> 或者 <code>json</code> 格式的前置参数，LoveIt 默认文章模板提供的前置参数有</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nn">---</span><span class="w">
</span><span class="w"></span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;我的第一篇文章&#34;</span><span class="w">
</span><span class="w"></span><span class="nt">subtitle</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w"></span><span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="ld">2020-03-04T15:58:26</span><span class="m">+08</span><span class="p">:</span><span class="m">00</span><span class="w">
</span><span class="w"></span><span class="nt">lastmod</span><span class="p">:</span><span class="w"> </span><span class="ld">2020-03-04T15:58:26</span><span class="m">+08</span><span class="p">:</span><span class="m">00</span><span class="w">
</span><span class="w"></span><span class="nt">draft</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w"></span><span class="nt">author</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w"></span><span class="nt">authorLink</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w"></span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w"></span><span class="nt">license</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="w"></span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="w"></span><span class="nt">hiddenFromHomePage</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">featuredImage</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w"></span><span class="nt">featuredImagePreview</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">toc</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w"></span><span class="nt">autoCollapseToc</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w"></span><span class="nt">math</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w"></span><span class="nt">mapbox</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">accessToken</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w">    </span><span class="nt">lightStyle</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w">    </span><span class="nt">darkStyle</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span><span class="w">    </span><span class="nt">navigation</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">geolocate</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">scale</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">fullscreen</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w"></span><span class="nt">lightgallery</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w"></span><span class="nt">linkToMarkdown</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w"></span><span class="nt">share</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w"></span><span class="nt">comment</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w"></span><span class="nn">---</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>title</strong>: 文章标题.</li>
<li><strong>subtitle</strong>: 文章副标题.</li>
<li><strong>date</strong>: 这篇文章创建的日期时间. 它通常是从文章的前置参数中的 <code>date</code> 字段获取的, 但是也可以在 <a href="../theme-documentation-basics/#site-configuration" rel="">网站配置</a> 中设置.</li>
<li><strong>lastmod</strong>: 上次修改内容的日期时间.</li>
<li><strong>draft</strong>: 如果设为 <code>true</code>, 除非 <code>hugo</code> 命令使用了 <code>--buildDrafts</code>/<code>-D</code> 参数, 这篇文章不会被渲染.</li>
<li><strong>author</strong>: 文章作者.</li>
<li><strong>authorLink</strong>: 文章作者的链接.</li>
<li><strong>description</strong>: 文章内容的描述.</li>
<li><strong>license</strong>: 这篇文章特殊的许可.</li>
<li><strong>tags</strong>: 文章的标签.</li>
<li><strong>categories</strong>: 文章所属的类别.</li>
<li><strong>hiddenFromHomePage</strong>: 如果设为 <code>true</code>, 这篇文章将不会显示在主页上, 但是此行为可以在 <a href="../theme-documentation-basics/#site-configuration" rel="">网站配置</a> 中设置的.</li>
<li><strong>featuredImage</strong>: 文章的特色图片.</li>
<li><strong>featuredImagePreview</strong>: 用在主页预览的文章特色图片.</li>
<li><strong>toc</strong>: 如果设为 <code>true</code>, 这篇文章会显示右侧目录.</li>
<li><strong>autoCollapseToc</strong>: 如果设为 <code>true</code>, 文章目录会自动折叠.</li>
<li><strong>math</strong>: 如果设为 <code>true</code>, 将自动渲染文章中的数学公式.</li>
<li><strong>mapbox</strong>:  和 <a href="../theme-documentation-basics/#site-configuration" rel="">网站配置</a> 中的 <code>params.mapbox</code> 对象相同.</li>
<li><strong>lightgallery</strong>: 如果设为 <code>true</code>, 文章中的图片将可以按照画廊形式呈现.</li>
<li><strong>linkToMarkdown</strong>: 如果设为 <code>true</code>, 内容的页脚将显示指向原始 Markdown 文件的链接.</li>
<li><strong>share</strong>: 和 <a href="../theme-documentation-basics/#site-configuration" rel="">网站配置</a> 中的 <code>params.share</code> 对象相同.</li>
<li><strong>comment</strong>: 如果设为 <code>true</code>, 将启用评论系统.</li>
</ul>
<h2 id="2-标签与分类">2. 标签与分类</h2>
<p>标签和分类字段是归档文章最常用的两种形式。为了更好的使用，我们需要弄清楚它们的区别。以生活与健身的韦恩图为例<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>，饮食与睡眠同时属于这两个分类，当出现这类型文章时，就可以添加标签来管理。</p>
<p></p>
<p>博客文章的存储方式决定了它无法拥有太多的分类，因此，树形逐级检索的方法不适用这种情况，我们应当在将博客分为几个大类的同时，使用标签来管理和检索文章，当同样也要注意不应滥用标签，否则会带来视觉上的混乱和管理的不便。</p>
<p>在每篇文章的元数据(Front-Matter字段)中添加<code>categories</code>字段作为文章分类，添加<code>tags</code>字段作为文章标签，比如本文：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">博客写作]</span><span class="w">
</span><span class="w"></span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">爱编程爱技术的孩子]</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>标签可以有多个，以逗号分隔，不过即使只有一个标签，外面的中括号也不能省略。</p>
<h2 id="3-排版风格规范">3. 排版风格规范</h2>
<p>本节内容参考少数派写作排版指南<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<h3 id="31-空格">3.1 空格</h3>
<p>行文时在中文与英文、中文与数字、英文与数字之间增加空格。例如：</p>
<ul>
<li><strong>推荐</strong>：苹果公司在 2015 年 9 月 9 日发布了 iPhone 6s。</li>
<li><strong>不推荐</strong>：苹果公司在2015年9月9日发布了iPhone 6s。</li>
</ul>
<p>一段文字中有超链接的部分，在超链接的前后使用空格。例如：</p>
<ul>
<li><strong>推荐</strong>：你可以前往 <a href="https://www.apple.com/cn" target="_blank" rel="noopener noreffer">苹果官网</a> 了解详情。</li>
<li><strong>不推荐</strong>：你可以前往<a href="https://www.apple.com/cn" target="_blank" rel="noopener noreffer">苹果官网</a>了解详情。</li>
</ul>
<p>英文前后接全角标点符号或者表示单位的角标符号时，不需要加空格。例如：</p>
<ul>
<li><strong>正确</strong>：新款屏幕的可视角度为 125°，相比旧款提升了 25%。</li>
<li><strong>错误</strong>：新款屏幕的可视角度为 125 °，相比旧款提升了 25 %。</li>
</ul>
<p>对于有特殊用法的专有名词，如 4K、1080p、iOS 10 等，英文和数字之间是否空格以官方标准为准。</p>
<p>每段文字的开头不需要空两格。</p>
<h3 id="32-标点符号">3.2 标点符号</h3>
<p>引号使用直角引号「」，而不是弯引号  “”。对于微软拼音输入法可以键入<code>uubd</code>四个字母开启标点符号的选择。</p>
<p>省略号使用 …… 的标准用法，正确输入方法是 shift + 6。不要使用三个句号。。。，也不要使用三个英文句点 &hellip;。</p>
<p>不要重复使用标点符号，尤其是在表达强烈情感的时候。例如：</p>
<ul>
<li><strong>推荐</strong>：这个提议真棒！我喜欢。</li>
<li><strong>不推荐</strong>：这个提议真棒！！！我喜欢~~~~</li>
</ul>
<p>同时，抒发情感的方法有很多，不建议在文中大量使用感叹号等表达强烈情感的符号，也不建议使用波浪号。</p>
<h3 id="33-中文和西文符号">3.3 中文和西文符号</h3>
<p>一般情况下，一个中文句子中出现了英文部分，仍然使用中文标点，即全角符号。例如：</p>
<ul>
<li><strong>正确</strong>：我常用的电子设备是 Kindle、iPad Pro、iPhone。</li>
<li><strong>错误</strong>：我常用的电子设备是 Kindle, iPad Pro, iPhone.</li>
</ul>
<p>如果引用一段完整的英文句子，或是出现在专有名词中的标点，则不需要更改标点符号。例如：</p>
<ul>
<li><strong>正确</strong>：乔布斯说「Stay hungry, Stay foolish.」</li>
<li><strong>错误</strong>：乔布斯说「Stay hungry，Stay foolish。」</li>
<li><strong>正确</strong>：我最喜欢的手机游戏是 Lifeline: Silent Night。</li>
<li><strong>错误</strong>：我最喜欢的手机游戏是 Lifeline：Silent Night。</li>
</ul>
<h3 id="34-专有名词">3.4 专有名词</h3>
<p>所有品牌名称以官方网站写法为准，应用名称遵循 Google Play 或 App Store 的命名。若无官方中文名称，可使用网络上被大家熟知的通用译名，否则请直接使用外文名称，不要自行翻译。</p>
<p>请正确书写常用英文名词的大小写和空格。例如：</p>
<ul>
<li><strong>正确</strong>：iOS 10、macOS、App Store、Android</li>
<li><strong>错误</strong>：iOS10、MacOS、AppStore、android</li>
</ul>
<p>若应用名称过长可在文中自定缩写，但需用括号注明缩写名称，并声明「下同」。</p>
<p>一般情况下，品牌和应用名称不需要使用直角引号「」括起来。</p>
<p>在称呼 app 时，请使用「应用」「应用程序」或「app」，而非「软件」「程序」。</p>
<h3 id="35-样式工具">3.5 样式工具</h3>
<p>虽然可以使用加粗、斜体、删除线、引用等样式工具，这些工具的使用也可以增加文章的可读性，但是过度使用则会造成排版混乱，因此建议正确、克制地使用样式工具。</p>
<p>例如，需要着重显示的部分请使用「加粗」功能，不要使用「斜体」，更不要使用「加粗 + 斜体」的组合。</p>
<h3 id="36-注明引用来源">3.6 注明引用来源</h3>
<p>文中有使用外站或外部内容的，务必在引用最后部分注明来源。</p>
<p>文中有使用外站图片，必须在文末标明。来源如果来自外站必须添加链接。例如，</p>
<ul>
<li>本文部分图片来自 <a href="http://www.theverge.com/" target="_blank" rel="noopener noreffer">The Verge</a></li>
<li>题图来自电影《春娇与志明》截图</li>
</ul>
<p>若文章为全文翻译，必须在文中注明原作者及原文地址，并添加原文链接。</p>
<h3 id="37----写作建议">3.7    写作建议</h3>
<p>理清文章结构，动笔之前可以先列一下写作大纲。</p>
<p>用主动语态，不要用被动语态。一般情况下，主动语态比被动语态更有力。</p>
<p>使用具体、明确、展示细节的词汇，能激发想象，使读者自己代入情境。「把硬币放进口袋里，他咧开嘴笑了」，远远强过「他满意地拿走了辛苦挣来的奖赏」。</p>
<p>减少形容词的使用，少用 「的」。</p>
<p>文中涉及到参数规格、数据的部分，要保证严谨性。</p>
<p>文章完成之后通读一遍，记住，不要让读者猜测你在讲什么。</p>
<h2 id="4-特殊语法">4. 特殊语法</h2>
<p>除Markdown基本语法外，灵活运用Hugo提供的一些功能，可以增加文章的灵活性。</p>
<h3 id="41-font-awesome">4.1 Font Awesome</h3>
<p><strong>LoveIt</strong> 主题使用 <a href="https://fontawesome.com/" target="_blank" rel="noopener noreffer">Font Awesome</a> 作为图标库.
你同样可以在文章中轻松使用这些图标.</p>
<p>从 <a href="https://fontawesome.com/icons?d=gallery" target="_blank" rel="noopener noreffer">Font Awesome 网站</a> 上获取所需的图标 <code>class</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">去露营啦! :(fas fa-campground): 很快就回来.

真开心! :(far fa-grin-tears):
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<p>去露营啦! <i class="fas fa-campground"></i>&nbsp;很快就回来.</p>
<p>真开心! <i class="far fa-grin-tears"></i></p>
<h3 id="42-脚注">4.2 脚注</h3>
<p>This is a footnote<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup></p>
<p>Test all features in development<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>.</p>
<h3 id="43-字符注音或注释">4.3 字符注音或注释</h3>
<p><strong>LoveIt</strong> 主题支持一种 <strong>字符注音或者注释</strong> Markdown 扩展语法:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">[Hugo]^(一个开源的静态网站生成工具)
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<p><strong><ruby>Hugo<rt>一个开源的静态网站生成工具</rt></ruby></strong></p>
<h3 id="44-分数">4.4 分数</h3>
<p><strong>LoveIt</strong> 主题支持一种 <strong>分数</strong> Markdown 扩展语法:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">[浅色]/[深色]

[99]/[100]
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<p><sup>浅色</sup>/<sub>深色</sub></p>
<p><sup>90</sup>/<sub>100</sub></p>
<h3 id="45-数学公式">4.5 数学公式</h3>
<p><strong>LoveIt</strong> 基于 <a href="https://katex.org/" target="_blank" rel="noopener noreffer">$ \KaTeX $</a> 提供数学公式的支持.</p>
<p>在你的 <a href="../theme-documentation-basics/#site-configuration" rel="">网站配置</a> 中的 <code>[params.math]</code> 下面设置属性 <code>enable = true</code>,
并在文章的前置参数中设置属性 <code>math: true</code>来启用数学公式的自动渲染.</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>技巧<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">有一份 <a href="https://katex.org/docs/supported.html" target="_blank" rel="noopener noreffer">$ \KaTeX $ 中支持的 $ \TeX $ 函数</a> 清单.</div>
        </div>
    </div>
<h4 id="公式块">公式块</h4>
<p>默认的公式块分割符是 <code>$$</code>/<code>$$</code> 和 <code>\\[</code>/<code>\\]</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">$$ c = \pm\sqrt{a^2 + b^2} $$

\\[ f(x)=\int_{-\infty}^{\infty} \hat{f}(\xi) e^{2 \pi i \xi x} d \xi \\]
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<p>$$ c = \pm\sqrt{a^2 + b^2} $$</p>
<p>\[ f(x)=\int_{-\infty}^{\infty} \hat{f}(\xi) e^{2 \pi i \xi x} d \xi \]</p>
<h4 id="行内公式">行内公式</h4>
<p>默认的行内公式分割符是  <code>$</code>/<code>$</code> 和 <code>\\(</code>/<code>\\)</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">$ c = \pm\sqrt{a^2 + b^2} $ 和 \\( f(x)=\int_{-\infty}^{\infty} \hat{f}(\xi) e^{2 \pi i \xi x} d \xi \\)
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<p>$ c = \pm\sqrt{a^2 + b^2} $ 和 \( f(x)=\int_{-\infty}^{\infty} \hat{f}(\xi) e^{2 \pi i \xi x} d \xi \)</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>技巧<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">你可以在 <a href="../theme-documentation-basics/#site-configuration" rel="">网站配置</a> 中自定义公式块和行内公式的分割符.</div>
        </div>
    </div>
<h4 id="copy-tex">Copy-tex</h4>
<p><strong><a href="https://github.com/Khan/KaTeX/tree/master/contrib/copy-tex" target="_blank" rel="noopener noreffer">Copy-tex</a></strong> 是一个 <strong>$ \KaTeX $</strong> 的插件.</p>
<p>通过这个扩展, 在选择并复制 $ \KaTeX $ 渲染的公式时, 会将其 $ \LaTeX $ 源代码复制到剪贴板.</p>
<p>在你的 <a href="../theme-documentation-basics/#site-configuration" rel="">网站配置</a> 中的 <code>[params.math]</code> 下面设置属性 <code>copyTex = true</code> 来启用 Copy-tex.</p>
<p>选择并复制上一节中渲染的公式, 可以发现复制的内容为 LaTeX 源代码.</p>
<h4 id="mhchem">mhchem</h4>
<p><strong><a href="https://github.com/Khan/KaTeX/tree/master/contrib/mhchem" target="_blank" rel="noopener noreffer">mhchem</a></strong> 是一个 <strong>$ \KaTeX $</strong> 的插件.</p>
<p>通过这个扩展, 你可以在文章中轻松编写漂亮的化学方程式.</p>
<p>在你的 <a href="../theme-documentation-basics/#site-configuration" rel="">网站配置</a> 中的 <code>[params.math]</code> 下面设置属性 <code>mhchem = true</code> 来启用 mhchem.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">$$ \ce{CO2 + C -&gt; 2 CO} $$

$$ \ce{Hg^2+ -&gt;[I-] HgI2 -&gt;[I-] [Hg^{II}I4]^2-} $$
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<p>$$ \ce{CO2 + C -&gt; 2 CO} $$</p>
<p>$$ \ce{Hg^2+ -&gt;[I-] HgI2 -&gt;[I-] [Hg^{II}I4]^2-} $$</p>
<h2 id="5-扩展shortcode">5. 扩展shortcode</h2>
<p>关于shortcode的说明见附录I，LoveIt提供了一些shortcode的扩展语法，下面介绍可能会用到的几种。其它的（包括link、mapbox等）自行查看主题文档介绍</p>
<h4 id="admonition">Admonition</h4>
<p><code>admonition</code> shortcode 支持 <strong>12</strong> 种 帮助你在页面中插入提示的横幅.</p>
<p><em>支持 Markdown 或者 HTML 格式.</em></p>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>注意</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw"></i>摘要<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>摘要</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>信息<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>信息</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>技巧<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>技巧</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition success open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-check-circle fa-fw"></i>成功<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>成功</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition question open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-question-circle fa-fw"></i>问题<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>问题</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw"></i>警告<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>警告</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition failure open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-times-circle fa-fw"></i>失败<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>失败</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition danger open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-skull-crossbones fa-fw"></i>危险<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>危险</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition bug open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-bug fa-fw"></i>Bug<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>Bug</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition example open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ol fa-fw"></i>示例<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>示例</strong> 横幅</div>
        </div>
    </div>
<div class="details admonition quote open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-quote-right fa-fw"></i>引用<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>引用</strong> 横幅</div>
        </div>
    </div>
<p><code>admonition</code> shortcode 有三个命名参数:</p>
<ul>
<li>
<p><strong>type</strong> <em>[必需]</em> (<strong>第一个</strong>位置参数)：<code>admonition</code> 横幅的类型, 默认值是 <code>note</code>.</p>
</li>
<li>
<p><strong>title</strong> <em>[可选]</em> (<strong>第二个</strong>位置参数)：<code>admonition</code> 横幅的标题, 默认值是 <strong>type</strong> 参数的值.</p>
</li>
<li>
<p><strong>details</strong> <em>[可选]</em> (<strong>第三个</strong>位置参数)：横幅内容是否可展开/可折叠, 默认值是 <code>false</code>.</p>
</li>
</ul>
<p>一个 <code>admonition</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">admonition</span> <span class="na">type</span><span class="o">=</span><span class="s">tip</span> <span class="na">title</span><span class="o">=</span><span class="s">&#34;This is a tip&#34;</span> <span class="na">details</span><span class="o">=</span><span class="s">true</span> <span class="p">&gt;</span>}}
一个 <span class="gs">**技巧**</span> 横幅
{{<span class="p">&lt;</span> <span class="p">/</span><span class="nt">admonition</span> <span class="p">&gt;</span>}}
或者
{{<span class="p">&lt;</span> <span class="nt">admonition</span> <span class="na">tip</span> <span class="err">&#34;</span><span class="na">This</span> <span class="na">is</span> <span class="na">a</span> <span class="na">tip</span><span class="err">&#34;</span> <span class="na">true</span> <span class="p">&gt;</span>}}
一个 <span class="gs">**技巧**</span> 横幅
{{<span class="p">&lt;</span> <span class="p">/</span><span class="nt">admonition</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">一个 <strong>技巧</strong> 横幅</div>
        </div>
    </div>
<h4 id="style">Style</h4>
<p><code>style</code> shortcode 用来在你的文章中插入自定义样式，有两个位置参数：第一个参数是自定义样式的内容，第二个参数是包裹你要更改样式的内容的 HTML 标签, 默认值是 <code>p</code>.</p>
<p>一个示例如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">style</span> <span class="err">&#34;</span><span class="na">text-align:</span> <span class="na">right</span><span class="err">;&#34;</span> <span class="p">&gt;</span><span class="err">}}</span>
<span class="nt">This</span> <span class="nt">is</span> <span class="nt">a</span> <span class="nt">right-aligned</span> <span class="nt">paragraph</span><span class="o">.</span>
<span class="p">{</span><span class="err">{</span><span class="p">&lt;</span> <span class="p">/</span><span class="nt">style</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><h4 id="bilibili">Bilibili</h4>
<p><code>bilibili</code> shortcode 提供了一个内嵌的用来播放 bilibili 视频的响应式播放器，如果视频只有一个部分, 则仅需要视频的 <code>av</code> ID, 例如:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">https://www.bilibili.com/video/av47027633
</code></pre></td></tr></table>
</div>
</div><p>一个 <code>bilibili</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">bilibili</span> <span class="na">47027633</span> <span class="p">&gt;</span>}}
或者
{{<span class="p">&lt;</span> <span class="nt">bilibili</span> <span class="na">av</span><span class="o">=</span><span class="s">47027633</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<div class="bilibili"><iframe src="//player.bilibili.com/player.html?bvid=&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div>

<p>如果视频包含多个部分, 则除了视频的 <code>av</code> ID之外, 还需要 <code>p</code>, 默认值为 <code>1</code>, 例如:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">https://www.bilibili.com/video/av36570401?p=3
</code></pre></td></tr></table>
</div>
</div><p>一个带有 <code>p</code> 参数的 <code>bilibili</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">bilibili</span> <span class="na">36570401</span> <span class="na">3</span> <span class="p">&gt;</span>}}
或者
{{<span class="p">&lt;</span> <span class="nt">bilibili</span> <span class="na">av</span><span class="o">=</span><span class="s">36570401</span> <span class="na">p</span><span class="o">=</span><span class="s">3</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><h4 id="mermaid">Mermaid</h4>
<p><a href="https://mermaidjs.github.io/" target="_blank" rel="noopener noreffer">mermaid</a> 是一个可以帮助你在文章中生成图表和流程图的库, 类似 Markdown 的语法，只需将你的 mermaid 代码插入 <code>mermaid</code> shortcode 中即可.</p>
<p>一个 <strong>流程图</strong> <code>mermaid</code> 示例如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">mermaid</span> <span class="p">&gt;</span>}}
graph LR;
    A[Hard edge] --&gt;|Link text| B(Round edge)
    B --&gt; C{Decision}
    C --&gt;|One| D[Result one]
    C --&gt;|Two| E[Result two]
{{<span class="p">&lt;</span> <span class="p">/</span><span class="nt">mermaid</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<div class="mermaid" id="id-1"></div>
<p>其它如时序图、甘特图、类图、状态图、Git图和饼图的用法自行查看文档。</p>
<h4 id="echarts">ECharts</h4>
<p><a href="https://echarts.apache.org/" target="_blank" rel="noopener noreffer">ECharts</a> 是一个帮助生成交互式数据可视化的库，提供了常规的 <a href="https://echarts.apache.org/zh/option.html#series-line" target="_blank" rel="noopener noreffer">折线图</a>, <a href="https://echarts.apache.org/zh/option.html#series-line" target="_blank" rel="noopener noreffer">柱状图</a>, <a href="https://echarts.apache.org/zh/option.html#series-scatter" target="_blank" rel="noopener noreffer">散点图</a>, <a href="https://echarts.apache.org/zh/option.html#series-pie" target="_blank" rel="noopener noreffer">饼图</a>, <a href="https://echarts.apache.org/zh/option.html#series-candlestick" target="_blank" rel="noopener noreffer">K线图</a>, 用于统计的 <a href="https://echarts.apache.org/zh/option.html#series-boxplot" target="_blank" rel="noopener noreffer">盒形图</a>, 用于地理数据可视化的 <a href="https://echarts.apache.org/zh/option.html#series-map" target="_blank" rel="noopener noreffer">地图</a>, <a href="https://echarts.apache.org/zh/option.html#series-heatmap" target="_blank" rel="noopener noreffer">热力图</a>, <a href="https://echarts.apache.org/zh/option.html#series-lines" target="_blank" rel="noopener noreffer">线图</a>, 用于关系数据可视化的 <a href="https://echarts.apache.org/zh/option.html#series-graph" target="_blank" rel="noopener noreffer">关系图</a>, <a href="https://echarts.apache.org/zh/option.html#series-treemap" target="_blank" rel="noopener noreffer">treemap</a>, <a href="https://echarts.apache.org/zh/option.html#series-sunburst" target="_blank" rel="noopener noreffer">旭日图</a>, 多维数据可视化的 <a href="https://echarts.apache.org/zh/option.html#series-parallel" target="_blank" rel="noopener noreffer">平行坐标</a>, 还有用于 BI 的 <a href="https://echarts.apache.org/zh/option.html#series-funnel" target="_blank" rel="noopener noreffer">漏斗图</a>, <a href="https://echarts.apache.org/zh/option.html#series-gauge" target="_blank" rel="noopener noreffer">仪表盘</a>, 并且支持图与图之间的混搭。只需在 <code>echarts</code> shortcode 中以 <code>JSON</code>/<code>YAML</code>/<code>TOML</code>格式插入 ECharts 选项即可.</p>
<p>一个 <code>JSON</code> 格式的 <code>echarts</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span><span class="err">{&lt;</span> <span class="err">echarts</span> <span class="err">&gt;</span><span class="p">}</span><span class="err">}</span>
<span class="p">{</span>
  <span class="nt">&#34;title&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;折线统计图&#34;</span><span class="p">,</span>
    <span class="nt">&#34;top&#34;</span><span class="p">:</span> <span class="s2">&#34;2%&#34;</span><span class="p">,</span>
    <span class="nt">&#34;left&#34;</span><span class="p">:</span> <span class="s2">&#34;center&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;tooltip&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;trigger&#34;</span><span class="p">:</span> <span class="s2">&#34;axis&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;legend&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;邮件营销&#34;</span><span class="p">,</span> <span class="s2">&#34;联盟广告&#34;</span><span class="p">,</span> <span class="s2">&#34;视频广告&#34;</span><span class="p">,</span> <span class="s2">&#34;直接访问&#34;</span><span class="p">,</span> <span class="s2">&#34;搜索引擎&#34;</span><span class="p">],</span>
    <span class="nt">&#34;top&#34;</span><span class="p">:</span> <span class="s2">&#34;10%&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;grid&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;left&#34;</span><span class="p">:</span> <span class="s2">&#34;5%&#34;</span><span class="p">,</span>
    <span class="nt">&#34;right&#34;</span><span class="p">:</span> <span class="s2">&#34;5%&#34;</span><span class="p">,</span>
    <span class="nt">&#34;bottom&#34;</span><span class="p">:</span> <span class="s2">&#34;5%&#34;</span><span class="p">,</span>
    <span class="nt">&#34;top&#34;</span><span class="p">:</span> <span class="s2">&#34;20%&#34;</span><span class="p">,</span>
    <span class="nt">&#34;containLabel&#34;</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="nt">&#34;toolbox&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;feature&#34;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;saveAsImage&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;title&#34;</span><span class="p">:</span> <span class="s2">&#34;保存为图片&#34;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&#34;xAxis&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;category&#34;</span><span class="p">,</span>
    <span class="nt">&#34;boundaryGap&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;周一&#34;</span><span class="p">,</span> <span class="s2">&#34;周二&#34;</span><span class="p">,</span> <span class="s2">&#34;周三&#34;</span><span class="p">,</span> <span class="s2">&#34;周四&#34;</span><span class="p">,</span> <span class="s2">&#34;周五&#34;</span><span class="p">,</span> <span class="s2">&#34;周六&#34;</span><span class="p">,</span> <span class="s2">&#34;周日&#34;</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">&#34;yAxis&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;value&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;series&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;邮件营销&#34;</span><span class="p">,</span>
      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;line&#34;</span><span class="p">,</span>
      <span class="nt">&#34;stack&#34;</span><span class="p">:</span> <span class="s2">&#34;总量&#34;</span><span class="p">,</span>
      <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">120</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">210</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;联盟广告&#34;</span><span class="p">,</span>
      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;line&#34;</span><span class="p">,</span>
      <span class="nt">&#34;stack&#34;</span><span class="p">:</span> <span class="s2">&#34;总量&#34;</span><span class="p">,</span>
      <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">220</span><span class="p">,</span> <span class="mi">182</span><span class="p">,</span> <span class="mi">191</span><span class="p">,</span> <span class="mi">234</span><span class="p">,</span> <span class="mi">290</span><span class="p">,</span> <span class="mi">330</span><span class="p">,</span> <span class="mi">310</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;视频广告&#34;</span><span class="p">,</span>
      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;line&#34;</span><span class="p">,</span>
      <span class="nt">&#34;stack&#34;</span><span class="p">:</span> <span class="s2">&#34;总量&#34;</span><span class="p">,</span>
      <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span> <span class="mi">330</span><span class="p">,</span> <span class="mi">410</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;直接访问&#34;</span><span class="p">,</span>
      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;line&#34;</span><span class="p">,</span>
      <span class="nt">&#34;stack&#34;</span><span class="p">:</span> <span class="s2">&#34;总量&#34;</span><span class="p">,</span>
      <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">320</span><span class="p">,</span> <span class="mi">332</span><span class="p">,</span> <span class="mi">301</span><span class="p">,</span> <span class="mi">334</span><span class="p">,</span> <span class="mi">390</span><span class="p">,</span> <span class="mi">330</span><span class="p">,</span> <span class="mi">320</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;搜索引擎&#34;</span><span class="p">,</span>
      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;line&#34;</span><span class="p">,</span>
      <span class="nt">&#34;stack&#34;</span><span class="p">:</span> <span class="s2">&#34;总量&#34;</span><span class="p">,</span>
      <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">820</span><span class="p">,</span> <span class="mi">932</span><span class="p">,</span> <span class="mi">901</span><span class="p">,</span> <span class="mi">934</span><span class="p">,</span> <span class="mi">1290</span><span class="p">,</span> <span class="mi">1330</span><span class="p">,</span> <span class="mi">1320</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="p">{</span><span class="err">{&lt;</span> <span class="err">/echarts</span> <span class="err">&gt;</span><span class="p">}</span><span class="err">}</span>
</code></pre></td></tr></table>
</div>
</div><p>一个 <code>YAML</code> 格式的 <code>echarts</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span><span class="lnt">94
</span><span class="lnt">95
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml">{{<span class="l">&lt; echarts &gt;}}</span><span class="w">
</span><span class="w"></span><span class="nt">title</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">text</span><span class="p">:</span><span class="w"> </span><span class="l">折线统计图</span><span class="w">
</span><span class="w">    </span><span class="nt">top</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="l">%</span><span class="w">
</span><span class="w">    </span><span class="nt">left</span><span class="p">:</span><span class="w"> </span><span class="l">center</span><span class="w">
</span><span class="w"></span><span class="nt">tooltip</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">trigger</span><span class="p">:</span><span class="w"> </span><span class="l">axis</span><span class="w">
</span><span class="w"></span><span class="nt">legend</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">data</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="l">邮件营销</span><span class="w">
</span><span class="w">        </span>- <span class="l">联盟广告</span><span class="w">
</span><span class="w">        </span>- <span class="l">视频广告</span><span class="w">
</span><span class="w">        </span>- <span class="l">直接访问</span><span class="w">
</span><span class="w">        </span>- <span class="l">搜索引擎</span><span class="w">
</span><span class="w">    </span><span class="nt">top</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="l">%</span><span class="w">
</span><span class="w"></span><span class="nt">grid</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">left</span><span class="p">:</span><span class="w"> </span><span class="m">5</span><span class="l">%</span><span class="w">
</span><span class="w">    </span><span class="nt">right</span><span class="p">:</span><span class="w"> </span><span class="m">5</span><span class="l">%</span><span class="w">
</span><span class="w">    </span><span class="nt">bottom</span><span class="p">:</span><span class="w"> </span><span class="m">5</span><span class="l">%</span><span class="w">
</span><span class="w">    </span><span class="nt">top</span><span class="p">:</span><span class="w"> </span><span class="m">20</span><span class="l">%</span><span class="w">
</span><span class="w">    </span><span class="nt">containLabel</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w"></span><span class="nt">toolbox</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">feature</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="nt">saveAsImage</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">保存为图片</span><span class="w">
</span><span class="w"></span><span class="nt">xAxis</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">category</span><span class="w">
</span><span class="w">    </span><span class="nt">boundaryGap</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">    </span><span class="nt">data</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="l">周一</span><span class="w">
</span><span class="w">        </span>- <span class="l">周二</span><span class="w">
</span><span class="w">        </span>- <span class="l">周三</span><span class="w">
</span><span class="w">        </span>- <span class="l">周四</span><span class="w">
</span><span class="w">        </span>- <span class="l">周五</span><span class="w">
</span><span class="w">        </span>- <span class="l">周六</span><span class="w">
</span><span class="w">        </span>- <span class="l">周日</span><span class="w">
</span><span class="w"></span><span class="nt">yAxis</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">value</span><span class="w">
</span><span class="w"></span><span class="nt">series</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">邮件营销</span><span class="w">
</span><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">line</span><span class="w">
</span><span class="w">      </span><span class="nt">stack</span><span class="p">:</span><span class="w"> </span><span class="l">总量</span><span class="w">
</span><span class="w">      </span><span class="nt">data</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="m">120</span><span class="w">
</span><span class="w">          </span>- <span class="m">132</span><span class="w">
</span><span class="w">          </span>- <span class="m">101</span><span class="w">
</span><span class="w">          </span>- <span class="m">134</span><span class="w">
</span><span class="w">          </span>- <span class="m">90</span><span class="w">
</span><span class="w">          </span>- <span class="m">230</span><span class="w">
</span><span class="w">          </span>- <span class="m">210</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">联盟广告</span><span class="w">
</span><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">line</span><span class="w">
</span><span class="w">      </span><span class="nt">stack</span><span class="p">:</span><span class="w"> </span><span class="l">总量</span><span class="w">
</span><span class="w">      </span><span class="nt">data</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="m">220</span><span class="w">
</span><span class="w">          </span>- <span class="m">182</span><span class="w">
</span><span class="w">          </span>- <span class="m">191</span><span class="w">
</span><span class="w">          </span>- <span class="m">234</span><span class="w">
</span><span class="w">          </span>- <span class="m">290</span><span class="w">
</span><span class="w">          </span>- <span class="m">330</span><span class="w">
</span><span class="w">          </span>- <span class="m">310</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">视频广告</span><span class="w">
</span><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">line</span><span class="w">
</span><span class="w">      </span><span class="nt">stack</span><span class="p">:</span><span class="w"> </span><span class="l">总量</span><span class="w">
</span><span class="w">      </span><span class="nt">data</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="m">150</span><span class="w">
</span><span class="w">          </span>- <span class="m">232</span><span class="w">
</span><span class="w">          </span>- <span class="m">201</span><span class="w">
</span><span class="w">          </span>- <span class="m">154</span><span class="w">
</span><span class="w">          </span>- <span class="m">190</span><span class="w">
</span><span class="w">          </span>- <span class="m">330</span><span class="w">
</span><span class="w">          </span>- <span class="m">410</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">直接访问</span><span class="w">
</span><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">line</span><span class="w">
</span><span class="w">      </span><span class="nt">stack</span><span class="p">:</span><span class="w"> </span><span class="l">总量</span><span class="w">
</span><span class="w">      </span><span class="nt">data</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="m">320</span><span class="w">
</span><span class="w">          </span>- <span class="m">332</span><span class="w">
</span><span class="w">          </span>- <span class="m">301</span><span class="w">
</span><span class="w">          </span>- <span class="m">334</span><span class="w">
</span><span class="w">          </span>- <span class="m">390</span><span class="w">
</span><span class="w">          </span>- <span class="m">330</span><span class="w">
</span><span class="w">          </span>- <span class="m">320</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">搜索引擎</span><span class="w">
</span><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">line</span><span class="w">
</span><span class="w">      </span><span class="nt">stack</span><span class="p">:</span><span class="w"> </span><span class="l">总量</span><span class="w">
</span><span class="w">      </span><span class="nt">data</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="m">820</span><span class="w">
</span><span class="w">          </span>- <span class="m">932</span><span class="w">
</span><span class="w">          </span>- <span class="m">901</span><span class="w">
</span><span class="w">          </span>- <span class="m">934</span><span class="w">
</span><span class="w">          </span>- <span class="m">1290</span><span class="w">
</span><span class="w">          </span>- <span class="m">1330</span><span class="w">
</span><span class="w">          </span>- <span class="m">1320</span><span class="w">
</span><span class="w"></span>{{<span class="l">&lt; /echarts &gt;}}</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>一个 <code>TOML</code> 格式的 <code>echarts</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="p">{{</span><span class="err">&lt;</span> <span class="nx">echarts</span> <span class="err">&gt;</span><span class="p">}}</span>
<span class="p">[</span><span class="nx">title</span><span class="p">]</span>
<span class="nx">text</span> <span class="p">=</span> <span class="s2">&#34;折线统计图&#34;</span>
<span class="nx">top</span> <span class="p">=</span> <span class="s2">&#34;2%&#34;</span>
<span class="nx">left</span> <span class="p">=</span> <span class="s2">&#34;center&#34;</span>

<span class="p">[</span><span class="nx">tooltip</span><span class="p">]</span>
<span class="nx">trigger</span> <span class="p">=</span> <span class="s2">&#34;axis&#34;</span>

<span class="p">[</span><span class="nx">legend</span><span class="p">]</span>
<span class="nx">data</span> <span class="p">=</span> <span class="p">[</span>
  <span class="s2">&#34;邮件营销&#34;</span><span class="p">,</span>
  <span class="s2">&#34;联盟广告&#34;</span><span class="p">,</span>
  <span class="s2">&#34;视频广告&#34;</span><span class="p">,</span>
  <span class="s2">&#34;直接访问&#34;</span><span class="p">,</span>
  <span class="s2">&#34;搜索引擎&#34;</span>
<span class="p">]</span>
<span class="nx">top</span> <span class="p">=</span> <span class="s2">&#34;10%&#34;</span>

<span class="p">[</span><span class="nx">grid</span><span class="p">]</span>
<span class="nx">left</span> <span class="p">=</span> <span class="s2">&#34;5%&#34;</span>
<span class="nx">right</span> <span class="p">=</span> <span class="s2">&#34;5%&#34;</span>
<span class="nx">bottom</span> <span class="p">=</span> <span class="s2">&#34;5%&#34;</span>
<span class="nx">top</span> <span class="p">=</span> <span class="s2">&#34;20%&#34;</span>
<span class="nx">containLabel</span> <span class="p">=</span> <span class="kc">true</span>

<span class="p">[</span><span class="nx">toolbox</span><span class="p">]</span>
<span class="p">[</span><span class="nx">toolbox</span><span class="p">.</span><span class="nx">feature</span><span class="p">]</span>
<span class="p">[</span><span class="nx">toolbox</span><span class="p">.</span><span class="nx">feature</span><span class="p">.</span><span class="nx">saveAsImage</span><span class="p">]</span>
<span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;保存为图片&#34;</span>

<span class="p">[</span><span class="nx">xAxis</span><span class="p">]</span>
<span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;category&#34;</span>
<span class="nx">boundaryGap</span> <span class="p">=</span> <span class="kc">false</span>
<span class="nx">data</span> <span class="p">=</span> <span class="p">[</span>
  <span class="s2">&#34;周一&#34;</span><span class="p">,</span>
  <span class="s2">&#34;周二&#34;</span><span class="p">,</span>
  <span class="s2">&#34;周三&#34;</span><span class="p">,</span>
  <span class="s2">&#34;周四&#34;</span><span class="p">,</span>
  <span class="s2">&#34;周五&#34;</span><span class="p">,</span>
  <span class="s2">&#34;周六&#34;</span><span class="p">,</span>
  <span class="s2">&#34;周日&#34;</span>
<span class="p">]</span>

<span class="p">[</span><span class="nx">yAxis</span><span class="p">]</span>
<span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;value&#34;</span>

<span class="p">[[</span><span class="nx">series</span><span class="p">]]</span>
<span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;邮件营销&#34;</span>
<span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;line&#34;</span>
<span class="nx">stack</span> <span class="p">=</span> <span class="s2">&#34;总量&#34;</span>
<span class="nx">data</span> <span class="p">=</span> <span class="p">[</span>
  <span class="mf">120.0</span><span class="p">,</span>
  <span class="mf">132.0</span><span class="p">,</span>
  <span class="mf">101.0</span><span class="p">,</span>
  <span class="mf">134.0</span><span class="p">,</span>
  <span class="mf">90.0</span><span class="p">,</span>
  <span class="mf">230.0</span><span class="p">,</span>
  <span class="mf">210.0</span>
<span class="p">]</span>

<span class="p">[[</span><span class="nx">series</span><span class="p">]]</span>
<span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;联盟广告&#34;</span>
<span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;line&#34;</span>
<span class="nx">stack</span> <span class="p">=</span> <span class="s2">&#34;总量&#34;</span>
<span class="nx">data</span> <span class="p">=</span> <span class="p">[</span>
  <span class="mf">220.0</span><span class="p">,</span>
  <span class="mf">182.0</span><span class="p">,</span>
  <span class="mf">191.0</span><span class="p">,</span>
  <span class="mf">234.0</span><span class="p">,</span>
  <span class="mf">290.0</span><span class="p">,</span>
  <span class="mf">330.0</span><span class="p">,</span>
  <span class="mf">310.0</span>
<span class="p">]</span>

<span class="p">[[</span><span class="nx">series</span><span class="p">]]</span>
<span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;视频广告&#34;</span>
<span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;line&#34;</span>
<span class="nx">stack</span> <span class="p">=</span> <span class="s2">&#34;总量&#34;</span>
<span class="nx">data</span> <span class="p">=</span> <span class="p">[</span>
  <span class="mf">150.0</span><span class="p">,</span>
  <span class="mf">232.0</span><span class="p">,</span>
  <span class="mf">201.0</span><span class="p">,</span>
  <span class="mf">154.0</span><span class="p">,</span>
  <span class="mf">190.0</span><span class="p">,</span>
  <span class="mf">330.0</span><span class="p">,</span>
  <span class="mf">410.0</span>
<span class="p">]</span>

<span class="p">[[</span><span class="nx">series</span><span class="p">]]</span>
<span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;直接访问&#34;</span>
<span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;line&#34;</span>
<span class="nx">stack</span> <span class="p">=</span> <span class="s2">&#34;总量&#34;</span>
<span class="nx">data</span> <span class="p">=</span> <span class="p">[</span>
  <span class="mf">320.0</span><span class="p">,</span>
  <span class="mf">332.0</span><span class="p">,</span>
  <span class="mf">301.0</span><span class="p">,</span>
  <span class="mf">334.0</span><span class="p">,</span>
  <span class="mf">390.0</span><span class="p">,</span>
  <span class="mf">330.0</span><span class="p">,</span>
  <span class="mf">320.0</span>
<span class="p">]</span>

<span class="p">[[</span><span class="nx">series</span><span class="p">]]</span>
<span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;搜索引擎&#34;</span>
<span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;line&#34;</span>
<span class="nx">stack</span> <span class="p">=</span> <span class="s2">&#34;总量&#34;</span>
<span class="nx">data</span> <span class="p">=</span> <span class="p">[</span>
  <span class="mf">820.0</span><span class="p">,</span>
  <span class="mf">932.0</span><span class="p">,</span>
  <span class="mf">901.0</span><span class="p">,</span>
  <span class="mf">934.0</span><span class="p">,</span>
  <span class="mf">1290.0</span><span class="p">,</span>
  <span class="mf">1330.0</span><span class="p">,</span>
  <span class="mf">1320.0</span>
<span class="p">]</span>
<span class="p">{{</span><span class="err">&lt;</span> <span class="err">/</span><span class="nx">echarts</span> <span class="err">&gt;</span><span class="p">}}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>echarts</code> shortcode 还有以下命名参数:</p>
<ul>
<li>
<p><strong>width</strong> <em>[可选]</em> (<strong>第一个</strong>位置参数)： 数据可视化的宽度, 默认值是 <code>100%</code>.</p>
</li>
<li>
<p><strong>height</strong> <em>[可选]</em> (<strong>第二个</strong>位置参数)： 数据可视化的高度, 默认值是 <code>30rem</code>.</p>
</li>
</ul>
<h4 id="music">Music</h4>
<p><code>music</code> shortcode 基于 <a href="https://github.com/MoePlayer/APlayer" target="_blank" rel="noopener noreffer">APlayer</a> 和 <a href="https://github.com/metowolf/MetingJS" target="_blank" rel="noopener noreffer">MetingJS</a> 提供了一个内嵌的响应式音乐播放器，有三种使用方式</p>
<h5 id="自定义音乐-url">自定义音乐 URL</h5>
<p><code>music</code> shortcode 有以下命名参数来使用自定义音乐 URL:</p>
<ul>
<li>
<p><strong>server</strong> <em>[必需]</em>：音乐的链接.</p>
</li>
<li>
<p><strong>type</strong> <em>[可选]</em>：音乐的名称.</p>
</li>
<li>
<p><strong>artist</strong> <em>[可选]</em>：音乐的创作者.</p>
</li>
<li>
<p><strong>cover</strong> <em>[可选]</em>：音乐的封面链接.</p>
</li>
</ul>
<p>一个使用自定义音乐 URL 的 <code>music</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">music</span> <span class="na">url</span><span class="o">=</span><span class="s">&#34;https://rainymood.com/audio1110/0.m4a&#34;</span> <span class="na">name</span><span class="o">=</span><span class="s">rainymood</span> <span class="na">artist</span><span class="o">=</span><span class="s">rainymood</span> <span class="na">cover</span><span class="o">=</span><span class="s">&#34;https://rainymood.com/i/badge.jpg&#34;</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<meting-js url="https://rainymood.com/audio1110/0.m4a" name="rainymood" artist="rainymood" cover="https://rainymood.com/i/badge.jpg" theme="#448aff"></meting-js>
<h5 id="音乐平台-url-的自动识别">音乐平台 URL 的自动识别</h5>
<p><code>music</code> shortcode 有一个命名参数来使用音乐平台 URL 的自动识别:</p>
<ul>
<li><strong>auto</strong> <em>[必需]]</em> (<strong>第一个</strong>位置参数)：用来自动识别的音乐平台 URL, 支持 <code>netease</code>, <code>tencent</code> 和 <code>xiami</code> 平台.</li>
</ul>
<p>一个使用音乐平台 URL 的自动识别的 <code>music</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">music</span> <span class="na">auto</span><span class="o">=</span><span class="s">&#34;https://music.163.com/#/playlist?id=60198&#34;</span> <span class="p">&gt;</span>}}
或者
{{<span class="p">&lt;</span> <span class="nt">music</span> <span class="err">&#34;</span><span class="na">https:</span><span class="err">//</span><span class="na">music</span><span class="err">.</span><span class="na">163</span><span class="err">.</span><span class="na">com</span><span class="err">/#/</span><span class="na">playlist</span><span class="err">?</span><span class="na">id</span><span class="o">=</span><span class="s">60198&#34;</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<meting-js auto="https://music.163.com/#/playlist?id=60198" theme="#448aff"></meting-js>
<h5 id="自定义音乐平台-类型和-id">自定义音乐平台, 类型和 ID</h5>
<p><code>music</code> shortcode 有以下命名参数来使用自定义音乐平台:</p>
<ul>
<li>
<p><strong>server</strong> <em>[必需]</em> (<strong>第一个</strong>位置参数)：[<code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code>]，音乐平台.</p>
</li>
<li>
<p><strong>type</strong> <em>[必需]</em> (<strong>第二个</strong>位置参数)：[<code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code>]，音乐类型.</p>
</li>
<li>
<p><strong>id</strong> <em>[必需]</em> (<strong>第三个</strong>位置参数)：歌曲 ID, 或者播放列表 ID, 或者专辑 ID, 或者搜索关键词, 或者创作者 ID.</p>
</li>
</ul>
<p>一个使用自定义音乐平台的 <code>music</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">music</span> <span class="na">server</span><span class="o">=</span><span class="s">&#34;netease&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;song&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;1868553&#34;</span> <span class="p">&gt;</span>}}
或者
{{<span class="p">&lt;</span> <span class="nt">music</span> <span class="na">netease</span> <span class="na">song</span> <span class="na">1868553</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<meting-js server="netease" type="song" id="1868553" theme="#448aff"></meting-js>
<h5 id="其它参数">其它参数</h5>
<p><code>music</code> shortcode 有一些可以应用于以上三种方式的其它命名参数:</p>
<ul>
<li>
<p><strong>theme</strong> *[可选]*音乐播放器的主题色, 默认值是 <code>#448aff</code>.</p>
</li>
<li>
<p><strong>fixed</strong> <em>[可选]</em>：是否开启固定模式, 默认值是 <code>false</code>.</p>
</li>
<li>
<p><strong>mini</strong> <em>[可选]</em>：是否开启迷你模式, 默认值是 <code>false</code>.</p>
</li>
<li>
<p><strong>autoplay</strong> <em>[可选]</em>：是否自动播放音乐, 默认值是 <code>false</code>.</p>
</li>
<li>
<p><strong>volume</strong> <em>[可选]</em>：第一次打开播放器时的默认音量, 会被保存在浏览器缓存中, 默认值是 <code>0.7</code>.</p>
</li>
<li>
<p><strong>mutex</strong> <em>[可选]</em>：是否自动暂停其它播放器, 默认值是 <code>true</code>.</p>
</li>
</ul>
<p><code>music</code> shortcode 还有一些只适用于音乐列表方式的其它命名参数:</p>
<ul>
<li>
<p><strong>loop</strong> <em>[可选]</em>：[<code>all</code>, <code>one</code>, <code>none</code>]，音乐列表的循环模式, 默认值是 <code>none</code>.</p>
</li>
<li>
<p><strong>order</strong> <em>[可选]</em>：[<code>list</code>, <code>random</code>]，音乐列表的播放顺序, 默认值是 <code>list</code>.</p>
</li>
<li>
<p><strong>list-folded</strong> <em>[可选]</em>：初次打开的时候音乐列表是否折叠, 默认值是 <code>false</code>.</p>
</li>
<li>
<p><strong>list-max-height</strong> <em>[可选]</em>：音乐列表的最大高度, 默认值是 <code>340px</code>.</p>
</li>
</ul>
<h4 id="typeit">Typeit</h4>
<p><code>typeit</code> shortcode 基于 <a href="https://typeitjs.com/" target="_blank" rel="noopener noreffer">TypeIt</a> 提供了打字动画，只需将需要打字动画的内容插入 <code>typeit</code> shortcode 中即可。允许使用 <code>Markdown</code> 格式的简单内容, 并且 <strong>不包含</strong> 富文本的块内容, 例如图像等等&hellip;</p>
<p>一个 <code>typeit</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">typeit</span> <span class="p">&gt;</span>}}
这一个带有基于 [<span class="nt">TypeIt</span>](<span class="na">https://typeitjs.com/</span>) 的 <span class="gs">**打字动画**</span> 的 <span class="ge">*段落*</span>...
{{<span class="p">&lt;</span> <span class="p">/</span><span class="nt">typeit</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<div class="typeit"><div id="id-2" class=""></div></div>

<h4 id="image">Image</h4>
<p><code>image</code> shortcode 是 <code>figure</code> shortcode的替代，可以充分利用 <a href="https://github.com/aFarkas/lazysizes" target="_blank" rel="noopener noreffer">lazysizes</a> 和 <a href="https://github.com/sachinchoolur/lightgallery.js" target="_blank" rel="noopener noreffer">lightgallery.js</a> 两个依赖库.</p>
<p>主要使用的参数如下:</p>
<ul>
<li>
<p><strong>src</strong> <em>[必需]</em> (<strong>第一个</strong>位置参数)：图片的 URL.</p>
</li>
<li>
<p><strong>alt</strong> <em>[可选]</em> (<strong>第二个</strong>位置参数)：图片无法显示时的替代文本, 默认值是 <strong>src</strong> 参数的值.</p>
</li>
<li>
<p><strong>caption</strong> <em>[可选]</em> (<strong>第三个</strong>位置参数)：图片标题.</p>
</li>
<li>
<p><strong>title</strong> <em>[可选]</em>：当悬停在图片上会显示的提示.</p>
</li>
<li>
<p><strong>class</strong> <em>[可选]</em>：HTML <code>figure</code> 标签的 <code>class</code> 属性.</p>
</li>
<li>
<p><strong>src_s</strong> <em>[可选]</em>：图片缩略图的 URL, 用在画廊模式中, 默认值是 <strong>src</strong> 参数的值.</p>
</li>
<li>
<p><strong>src_l</strong> <em>[可选]</em>：高清图片的 URL, 用在画廊模式中, 默认值是 <strong>src</strong> 参数的值.</p>
</li>
<li>
<p><strong>height</strong> <em>[可选]</em>：图片的 <code>height</code> 属性.</p>
</li>
<li>
<p><strong>width</strong> <em>[可选]</em>：图片的 <code>width</code> 属性.</p>
</li>
<li>
<p><strong>linked</strong> <em>[可选]</em>：图片是否需要被链接, 默认值是 <code>true</code>.</p>
</li>
<li>
<p><strong>rel</strong> <em>[可选]</em>：HTML <code>a</code> 标签 的 <code>rel</code> 补充属性, 仅在 <strong>linked</strong> 属性设置成 <code>true</code> 时有效.</p>
</li>
<li>
<p><strong>large</strong> <em>[可选]</em>：图片是否是大尺寸的, 用来加载动画, 仅在 <strong>linked</strong> 属性设置成 <code>false</code> 时有效.</p>
</li>
</ul>
<p>一个 <code>image</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/theme-documentation-extended-shortcodes/lighthouse.jpg&#34;</span> <span class="na">caption</span><span class="o">=</span><span class="s">&#34;Lighthouse (`image`)&#34;</span> <span class="na">src-s</span><span class="o">=</span><span class="s">&#34;/images/theme-documentation-extended-shortcodes/lighthouse-small.jpg&#34;</span> <span class="na">src-l</span><span class="o">=</span><span class="s">&#34;/images/theme-documentation-extended-shortcodes/lighthouse-large.jpg&#34;</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><h2 id="6-写作工具">6. 写作工具</h2>
<ul>
<li>使用Chrome下的插件诸如<code>stackedit</code>与<code>markdown-here</code>等，不用担心平台受限</li>
<li>在线如CSDN、简书、知乎、Github等都支持Markdown写作，现在越来越多的网站都已经开始支持Markdown格式的文章</li>
<li>客户端软件目前使用Typora，其它如VS code、有道云笔记、为知笔记等都支持markdown写作</li>
</ul>
<h2 id="附录i-shortcode">附录I Shortcode</h2>
<p>Hugo写文章的主要格式是Markdown，但是很多高级的语法默认的渲染引擎是不支持的，需要使用纯HTML代码来编写，这和Markdown的本意是违背的。因此Hugo提供了<a href="https://gohugo.io/templates/shortcode-templates/" target="_blank" rel="noopener noreffer">Shortcodes</a>来提供对这些语法的支持。</p>
<p>短代码的调用方法为将代码放在两个大括号和一个尖括号的包围中，代码本身应与两侧尖括号有一个空格分隔。Hugo本身提供了一些Shortcodes（<a href="https://gohugo.io/content-management/shortcodes/" target="_blank" rel="noopener noreffer">Build-in</a>），但大部分都由于各种原因不能用，可用的两个分别是 Github Gist 和 Figure</p>
<p><a href="https://gohugo.io/content-management/shortcodes/#figure" target="_blank" rel="noopener noreffer"><code>figure</code> 的文档</a>，一个 <code>figure</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">figure</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/theme-documentation-built-in-shortcodes/lighthouse.jpg&#34;</span> <span class="na">title</span><span class="o">=</span><span class="s">&#34;Lighthouse (figure)&#34;</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><p>输出的 HTML 看起来像这样:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">figure</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/theme-documentation-built-in-shortcodes/lighthouse.jpg&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">figcaption</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>Lighthouse (figure)<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">figcaption</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">figure</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><a href="https://gohugo.io/content-management/shortcodes/#gist" target="_blank" rel="noopener noreffer"><code>gist</code> 的文档</a>，一个 <code>gist</code> 示例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{{<span class="p">&lt;</span> <span class="nt">gist</span> <span class="na">spf13</span> <span class="na">7896402</span> <span class="p">&gt;</span>}}
</code></pre></td></tr></table>
</div>
</div><p>呈现的输出效果如下:</p>
<script type="application/javascript" src="https://gist.github.com/spf13/7896402.js"></script>

<p>输出的 HTML 看起来像这样:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;application/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://gist.github.com/spf13/7896402.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="附录ii-书影音页面">附录II 书影音页面</h2>
<p>因为添加书籍、电影记录过于繁琐，决定删除该页面，相关的代码放在<a href="https://gist.github.com/shuzang/c067f021518224252f4ea3b84748170f" target="_blank" rel="noopener noreffer">github gist</a>中</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://sspai.com/post/57467" target="_blank" rel="noopener noreffer">活用标签，提高笔记搜索效率</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p><a href="https://sspai.com/post/37815" target="_blank" rel="noopener noreffer">少数派写作排版指南</a> <a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>This is a footnote <a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4" role="doc-endnote">
<p><a href="https://www.google.com/">https://www.google.com/</a> <a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>
]]></description></item><item><title>hugo搭建个人博客1-基础建站</title><link>https://shuzang.github.io/hugo-builds-personal-blog-1/</link><pubDate>Fri, 26 Apr 2019 10:45:00 +0800</pubDate><author>作者</author><guid>https://shuzang.github.io/hugo-builds-personal-blog-1/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/hugo%e6%90%ad%e5%bb%ba%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a21-%e5%9f%ba%e7%a1%80%e5%bb%ba%e7%ab%99/%e6%8b%89%e5%be%b7%e5%85%8b%e5%88%a9%e5%a4%ab%e5%9b%be%e4%b9%a6%e9%a6%86.jpg" referrerpolicy="no-referrer">
            </div><p><a href="https://gohugo.io/" target="_blank" rel="noopener noreffer">Hugo</a> 是由 Go 语言实现的静态网站生成器，可以快速建立一个静态网站，虽然多数情况下用来搭建个人博客，但也可以用作展示在线书籍、个人简历等。在使用 Hugo 之前，我一直使用 Hexo 搭建个人博客，促使我更换工具的原因主要有两个</p>
<ol>
<li>文章数量较多时，Hexo 生成速度非常慢，同样的文章数量下，Hugo 渲染文章几乎是即时的；</li>
<li>Hexo 依赖于 Node.js，使用需要在电脑里安装 node 和 npm。另外，Hexo 允许开发者提供各种 npm 模块来增强其功能，这种做法虽然使 Hexo 扩展性极高，但在博客的维护、备份和恢复等方面都带来了极大的不便。Hugo 使用 Go 开发，不依赖任何其它模块，只需要按照 Hugo 这一个软件即可。</li>
</ol>
<p>综上，我选择将博客网站迁移到 Hugo，这个系列的文章用来记录 Hugo 使用种遇到的问题和积累的经验。本文是第一篇，介绍博客网站搭建的过程和一些基础配置。</p>
<h2 id="1-安装hugo">1. 安装Hugo</h2>
<p>详细的安装说明参见<a href="https://gohugo.io/getting-started/quick-start/" target="_blank" rel="noopener noreffer">官方文档</a>，这里简单介绍 win10 和 Ubuntu18.04 的快速安装。</p>
<p>win10下可自行从官网下载软件包安装，也可以使用 <a href="https://chocolatey.org/" target="_blank" rel="noopener noreffer">chocolatey</a> 包管理工具快速安装</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># 更新chocolatey到最新</span>
&gt; choco upgrade chocolatey

<span class="c1"># 安装hugo-extended，因为将要使用的主题使用scss</span>
&gt; choco install hugo-extended -y

<span class="c1"># 检查安装</span>
&gt; choco list --local
chocolatey 0.10.15
hugo-extended 0.58.3
<span class="m">2</span> packages installed.
</code></pre></td></tr></table>
</div>
</div><p>Ubuntu下使用 apt-get 会安装低版本 Hugo，因此使用 snap 安装</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ snap install hugo --channel<span class="o">=</span>extended
hugo <span class="o">(</span>extended/stable<span class="o">)</span> 0.58.3 from Hugo Authors installed
</code></pre></td></tr></table>
</div>
</div><p>注意要安装 extended 版本，主要是因为很多主题都需要扩展版的功能，如果确认自己的主题不需要(阅读主题说明)，可以按照正常的版本。</p>
<h2 id="2-生成博客网站">2. 生成博客网站</h2>
<p>执行下面的命令在本地生成博客网站项目文件夹，该文件夹是这一系列文章之后所有操作执行的根目录(简称为项目根目录)，我建立的项目文件夹名为 shuzang.github.io （因为之后要使用 <a href="https://pages.github.com/" target="_blank" rel="noopener noreffer">Github Pages</a> 托管博客）。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hugo new site shuzang.github.io
$ <span class="nb">cd</span> shuzang.github.io
</code></pre></td></tr></table>
</div>
</div><p>blog 文件夹的目录结构如下所示，其中各文件夹的作用我们将在之后的使用过程中逐步了解</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ ls
archetypes/  config.toml  content/  data/  layouts/  static/  themes/
</code></pre></td></tr></table>
</div>
</div><h2 id="3-托管到github">3. 托管到Github</h2>
<p>将本地的项目文件夹初始化为 Github 仓库</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="err">$</span> <span class="nx">git</span> <span class="nx">init</span>
<span class="err">$</span> <span class="nx">git</span> <span class="nx">add</span> <span class="p">.</span>
<span class="err">$</span> <span class="nx">git</span> <span class="nx">commit</span> <span class="o">-</span><span class="nx">m</span> <span class="s">&#34;Initial commit&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>浏览器打开 Github 网站，创建和项目文件夹同名的仓库，该仓库用于存储项目文件夹下所有内容。创建完成后，在本地项目根目录，执行下列命令，将项目文件推送到远程仓库。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ git remote add origin https://github.com/shuzang/shuzang.github.io.git
$ git push -u origin master
</code></pre></td></tr></table>
</div>
</div><p>关于网页如何托管在Github的详细说明可以参考<a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/" target="_blank" rel="noopener noreffer">Host on Github</a></p>
<h3 id="31-源码备份">3.1 源码备份</h3>
<p>按照 Hugo 的生成规则，执行 <code>hugo</code> 命令后，网站静态文件将会生成在 <code>public</code> 文件夹。但由于我们使用 Github Pages 托管博客网站，该功能启用后 Github 仓库只会从 <code>master branch</code> 或 <code>master branch /docs folder</code>  读取网站源码。</p>
<p>我们解决这一问题的方法是新建 <code>blog</code> 分支将博客源码放在该分支下，利用 Github Action 将 <code>public</code> 目录下的网站文件推送到 <code>master</code> 分支。首先在本地项目根目录下执行下列命令新建并切换到 <code>blog</code> 分支</p>
<p>注：Github Action 的说明见附录I</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ git checkout -b blog
$ git branch
* blog
  master

<span class="c1"># 设置本地blog分支追踪远程blog分支</span>
$ git branch --set-upstream blog origin/blog
<span class="c1"># 查看分支跟踪关系</span>
$ git branch -vv
* blog   c63526c <span class="o">[</span>origin/blog<span class="o">]</span> Update posts
</code></pre></td></tr></table>
</div>
</div><p>将本地 <code>blog</code> 分支的内容推送到远程仓库后，在网页端进入<code>shuzang.github.io</code>仓库的设置页面，将默认分支设置为 <code>blog</code> 分支。</p>
<p></p>
<h3 id="32-推送到master分支">3.2 推送到master分支</h3>
<p>首先生成公私钥供 Github Action 使用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">ssh-keygen -t rsa -b <span class="m">4096</span> -C <span class="s2">&#34;</span><span class="k">$(</span>git config user.email<span class="k">)</span><span class="s2">&#34;</span> -f blog -N <span class="s2">&#34;&#34;</span>
<span class="c1"># You will get 2 files in current file:</span>
<span class="c1">#   blog.pub (public key)</span>
<span class="c1">#   blog     (private key)</span>
</code></pre></td></tr></table>
</div>
</div><p>然后进入 <code>shuzang.github.io</code> 仓库设置页面，在 <code>Deploy Keys</code> 中添加公钥，在 <code>Secrets</code> 中添加私钥，私钥名设置为 <code>ACTIONS_DEPLOY_KEY</code></p>
<p>接着新建 YAML 配置文件，Github Action 要求配置文件位于 <code>.github/workflows</code> 目录下，新建完成后目录结构如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ ls ./.github/workflows
main.yml
</code></pre></td></tr></table>
</div>
</div><p>Github Action使用一种模块化的思路，即将很多持续集成的操作写成独立的脚本文件，放到代码仓库，让其它开发者使用。因此进行持续集成时，可以直接引用别人写好的 action，整个持续集成的过程，就是一个 actions 组合的过程。GitHub 做了一个<a href="https://github.com/marketplace?type=actions" target="_blank" rel="noopener noreffer">官方市场</a>，可以搜索到他人提交的 actions。另外，还有一个 <a href="https://github.com/sdras/awesome-actions" target="_blank" rel="noopener noreffer">awesome actions</a> 的仓库，也可以找到不少 action。</p>
<p>我们的基本思路如下</p>
<ol>
<li>整个流程在 blog 分支 push 时触发</li>
<li>只有一个job，运行在ubuntu-18.04环境下</li>
<li>使用 <a href="https://github.com/actions/checkout" target="_blank" rel="noopener noreffer">official action: checkout</a> 获取仓库源码，注意添加参数clone主题子模块</li>
<li>使用 <a href="https://github.com/peaceiris/actions-hugo" target="_blank" rel="noopener noreffer">peaceiris/actions-hugo: GitHub Actions for Hugo</a> 部署 hugo 环境，注意使用 <code>extentded</code> 版本（主题要求）</li>
<li>直接执行 hugo 命令</li>
<li>使用 <a href="https://github.com/peaceiris/actions-gh-pages" target="_blank" rel="noopener noreffer">peaceiris/actions-gh-pages</a> 将当前分支<code>public</code>目录下的内容部署到master分支，</li>
</ol>
<p>完整的<code>main.yml</code>脚本内容如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">hugo push to github pages</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="l">blog</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">build-deploy</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-18.04</span><span class="w">
</span><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v1</span><span class="w">
</span><span class="w">      </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="nt">submodules</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup Hugo</span><span class="w">
</span><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-hugo@v2</span><span class="w">
</span><span class="w">      </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="nt">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;0.59.1&#39;</span><span class="w">
</span><span class="w">        </span><span class="nt">extended</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build</span><span class="w">
</span><span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo --minify</span><span class="w">
</span><span class="w">
</span><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy</span><span class="w">
</span><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v2</span><span class="w">
</span><span class="w">      </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="nt">ACTIONS_DEPLOY_KEY</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.ACTIONS_DEPLOY_KEY }}</span><span class="w">
</span><span class="w">        </span><span class="nt">PUBLISH_BRANCH</span><span class="p">:</span><span class="w"> </span><span class="l">master</span><span class="w">
</span><span class="w">        </span><span class="nt">PUBLISH_DIR</span><span class="p">:</span><span class="w"> </span><span class="l">./public</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>保存上面的文件后，将本地仓库推送到远程，Github 检测到 <code>.github/workflow</code> 目录和里面的<code>main.yml</code> 文件，就会自动运行，在网页端可以查看运行日志，如果出现错误可以根据日志内容就行修改。</p>
<p></p>
<p>等到workflow运行结束，访问博客页面，就可以看到更新成功了。切换到master分支，也可以看到推送的网页文件，不过因为设置了默认分支为 blog，以后打开网页端该仓库，以及在本地 clone的时候，默认都是 blog 分支。</p>
<p>注：Github Action 在2020年开始正式使用，之前一直使用 Travis CI，配置步骤见 附录II</p>
<h2 id="4-安装主题">4. 安装主题</h2>
<p>Hugo没有默认主题，需要自己从官方的<a href="https://themes.gohugo.io/" target="_blank" rel="noopener noreffer">主题列表</a>下载安装。总体来看，Hugo 主题的数量和质量可能都不如 Hexo，比如 Next 这种主题已经形成了庞大的开发社区，有大量的人在使用和维护，Hugo 中就没有这种影响力很大的主题了，但 Hugo 的主题的创意都非常棒。</p>
<p><a href="https://github.com/Fastbyte01/KeepIt" target="_blank" rel="noopener noreffer">KeepIt</a> 是其中一个较为简单优雅的主题，基于 <a href="https://raw.githubusercontent.com/liuzc/LeaveIt/" target="_blank" rel="noopener noreffer">LeaveIt</a> 主题二次开发而成，遵循「Less is more」的原则，是我最喜欢的主题。因为主题通常是单独的 Github 仓库，因此将其作为博客项目的子模块进行管理。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># 将主题项目作为子模块添加</span>
$ git submodule add https://github.com/Fastbyte01/KeepIt.git themes/KeepIt
<span class="c1"># 查看子模块信息</span>
$ git submodule
 87c33888f3fa86b8cc096bc3f6d7f2efe9ccba66 themes/KeepIt <span class="o">(</span>v4-53-g87c3388<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><p>复制主题提供的站点配置文件 <code>config.toml</code> 到项目根目录，覆盖 Hugo 本身的站点配置文件（第一次使用可以将exampleSite目录下的内容全部复制过来）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ cp themes/KeepIt/exampleSite/. .
</code></pre></td></tr></table>
</div>
</div><p>运行<code>hugo server</code>命令，在浏览器键入网址 <a href="http://localhost:1313" target="_blank" rel="noopener noreffer">http://localhost:1313</a> 预览主题效果（首页图片未加载是因为还没有放置头像文件）</p>
<p></p>
<h2 id="5-网站配置">5. 网站配置</h2>
<p>正式使用前，我们需要编辑站点配置文件从而设置网站的一些内容，通常配置文件或主题文档会进行详细的说明，当前我们对 <code>config.toml</code> 文件做如下配置</p>
<h3 id="51-基础配置">5.1 基础配置</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="nx">baseURL</span> <span class="p">=</span> <span class="s2">&#34;https://shuzang.github.io&#34;</span>
<span class="nx">languageCode</span> <span class="p">=</span> <span class="s2">&#34;en&#34;</span>
<span class="nx">defaultContentLanguage</span> <span class="p">=</span> <span class="s2">&#34;en&#34;</span>
<span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;Shuzang&#39;s blog&#34;</span>
<span class="nx">theme</span> <span class="p">=</span> <span class="s2">&#34;KeepIt&#34;</span>

<span class="nx">paginate</span> <span class="p">=</span> <span class="mi">12</span>
<span class="nx">enableEmoji</span> <span class="p">=</span> <span class="kc">true</span>
<span class="nx">enableRobotsTXT</span> <span class="p">=</span> <span class="kc">true</span>
<span class="nx">googleAnalytics</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
<span class="nx">disqusShortname</span> <span class="p">=</span> <span class="s2">&#34;yourdiscussshortname&#34;</span>

<span class="p">[</span><span class="nx">sitemap</span><span class="p">]</span>
  <span class="nx">changefreq</span> <span class="p">=</span> <span class="s2">&#34;monthly&#34;</span>
  <span class="nx">filename</span> <span class="p">=</span> <span class="s2">&#34;sitemap.xml&#34;</span>
  <span class="nx">priority</span> <span class="p">=</span> <span class="mf">0.5</span>

<span class="p">[</span><span class="nx">blackfriday</span><span class="p">]</span>
  <span class="nx">hrefTargetBlank</span> <span class="p">=</span> <span class="kc">true</span>
  <span class="nx">nofollowLinks</span> <span class="p">=</span> <span class="kc">true</span>
  <span class="nx">noreferrerLinks</span> <span class="p">=</span> <span class="kc">true</span>

<span class="p">[</span><span class="nx">Permalinks</span><span class="p">]</span>
 <span class="nx">posts</span> <span class="p">=</span> <span class="s2">&#34;/:year/:filename/&#34;</span>

<span class="p">[</span><span class="nx">menu</span><span class="p">]</span>
  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Blog&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/posts/&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">1</span>

  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Categories&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/categories/&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">3</span>

  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;About&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/about&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">4</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="52-头像">5.2 头像</h3>
<p>新建<code>static/images</code>文件夹，将头像文件存放在这里</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ mkdir static/images
<span class="c1"># 复制头像文件到images文件夹,复制完成后目录结构如下</span>
$ ls staitc -lR
static:
total <span class="m">0</span>
drwxr-xr-x <span class="m">1</span> 书藏 <span class="m">197610</span> <span class="m">0</span> 11月 <span class="m">17</span> 14:41 images/

static/images:
total <span class="m">88</span>
-rw-r--r-- <span class="m">1</span> 书藏 <span class="m">197610</span> <span class="m">87641</span> 9月  <span class="m">28</span> 18:21 avatar.png
</code></pre></td></tr></table>
</div>
</div><p>修改站点配置文件<code>params</code>部分的<code>avatar</code>字段值</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="p">[</span><span class="nx">params</span><span class="p">]</span>
	<span class="nx">avatar</span> <span class="p">=</span> <span class="s2">&#34;images/avatar.png&#34;</span> <span class="c">#comment it to use gravatar</span>
</code></pre></td></tr></table>
</div>
</div><p>也可以使用自己图床中的头像图片链接，或者如果有gravatar头像，可以在配置文件中寻找相关字段填写账号。</p>
<h3 id="53-首页社交链接">5.3 首页社交链接</h3>
<p>修改站点配置文件中<code>params.social</code>部分的内容，需要的社交链接取消注释即可启用，比如我只启用了Github和Email，Github只需要填用户名，完整的URL在主题源码中自动生成。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">social</span><span class="p">]</span>
    <span class="nx">GitHub</span> <span class="p">=</span> <span class="s2">&#34;/shuzang&#34;</span>
    <span class="nx">Email</span>   <span class="p">=</span> <span class="s2">&#34;xxxxx@qq.com&#34;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="54-网站基本资料">5.4 网站基本资料</h3>
<p>编辑站点配置文件的以下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;shuzang&#39;s blog&#34;</span>  <span class="c"># 网站标题</span>
<span class="p">[</span><span class="nx">params</span><span class="p">]</span>
    <span class="nx">since</span> <span class="p">=</span> <span class="mi">2018</span>                     <span class="c"># 站点建立时间</span>
    <span class="nx">author</span> <span class="p">=</span> <span class="s2">&#34;shuzang&#34;</span>               <span class="c"># 作者名</span>
    <span class="nx">subtitle</span> <span class="p">=</span> <span class="s2">&#34;世界钟爱热爱生活的人&#34;</span>       <span class="c"># 子标题</span>
    <span class="nx">home_mode</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span> <span class="c"># post or other      # post模式会在主页面显示文章</span>
    
    <span class="nx">description</span> <span class="p">=</span> <span class="s2">&#34;shuzang的个人博客&#34;</span> <span class="c"># 网站描述</span>
    <span class="nx">keywords</span> <span class="p">=</span> <span class="s2">&#34;blog, Golang, Hugo, blockchain &#34;</span> <span class="c"># 网站关键词</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="55-网站图标">5.5 网站图标</h3>
<p>使用 <a href="https://www.google.com/search?q=favicon&#43;generator" target="_blank" rel="noopener noreffer">favicon generator</a> 生成配套的网站图标，放到 <code>/static</code> 目录下，可以设置网站在各平台的显示图标，包括如下内容</p>
<ul>
<li>android-chrome-192x192.png</li>
<li>android-chrome-512x512.png</li>
<li>apple-touch-icon.png</li>
<li>browserconfig.xml</li>
<li>cover.png</li>
<li>favicon.ico</li>
<li>favicon-16x16.png</li>
<li>favicon-32x32.png</li>
<li>logo.png</li>
<li>mstile-150x150.png</li>
<li>safari-pinned-tab.svg</li>
<li>site.webmanifest</li>
</ul>
<p>然后修改站点配置文件中以下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="p">[</span><span class="nx">author</span><span class="p">]</span>
  <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;shuzang&#34;</span>

  <span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">publisher</span><span class="p">]</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;shuzang&#34;</span>

    <span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">publisher</span><span class="p">.</span><span class="nx">logo</span><span class="p">]</span>
      <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;logo.png&#34;</span>
      <span class="nx">width</span> <span class="p">=</span> <span class="mi">127</span>
      <span class="nx">height</span> <span class="p">=</span> <span class="mi">40</span>

  <span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">logo</span><span class="p">]</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;logo.png&#34;</span>
    <span class="nx">width</span> <span class="p">=</span> <span class="mi">127</span>
    <span class="nx">height</span> <span class="p">=</span> <span class="mi">40</span>

  <span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">image</span><span class="p">]</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;cover.png&#34;</span>
    <span class="nx">width</span> <span class="p">=</span> <span class="mi">800</span>
    <span class="nx">height</span> <span class="p">=</span> <span class="mi">600</span>
</code></pre></td></tr></table>
</div>
</div><p>更多配置可以参考<a href="https://github.com/Mogeko/Blog" target="_blank" rel="noopener noreffer">Mogeko的个人博客</a></p>
<p>以上所有配置完成后，博客网站首页如下</p>
<p></p>
<h2 id="5-文章发布">5. 文章发布</h2>
<p>在content目录下创建 <code>posts</code>文件夹，写作的文章全部放到该目录下，在每篇文章开头添加元数据字段，可以是YAML或TOML格式，示例如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;Getting Started with Hugo&#34;</span>
<span class="nx">description</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
<span class="nx">type</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;posts&#34;</span><span class="p">,</span><span class="s2">&#34;post&#34;</span><span class="p">]</span>
<span class="nx">tags</span> <span class="p">=</span> <span class="p">[</span>
    <span class="s2">&#34;go&#34;</span><span class="p">,</span>
    <span class="s2">&#34;golang&#34;</span><span class="p">,</span>
    <span class="s2">&#34;hugo&#34;</span><span class="p">,</span>
    <span class="s2">&#34;development&#34;</span><span class="p">,</span>
<span class="p">]</span>
<span class="nx">date</span> <span class="p">=</span> <span class="s2">&#34;2014-04-02&#34;</span>
<span class="nx">categories</span> <span class="p">=</span> <span class="p">[</span>
    <span class="s2">&#34;Development&#34;</span><span class="p">,</span>
    <span class="s2">&#34;golang&#34;</span><span class="p">,</span>
<span class="p">]</span>
<span class="nx">series</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;Hugo 101&#34;</span><span class="p">]</span>
<span class="p">[</span> <span class="nx">author</span> <span class="p">]</span>
  <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Hugo Authors&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>下面是一篇示例文章</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">---
title: Markdown说明
date: 2020-04-05
tags: [&#34;Markdown&#34;]
categories: [&#34;爱编程爱技术的孩子&#34;]
---

Markdown由Aaron Swartz和John Gruber共同设计

<span class="k">-</span> Aaron Swartz的博客：[http://www.aaronsw.com/](http://www.aaronsw.com/)
<span class="k">-</span> John Gruber的博客： [<span class="nt">https://daringfireball.net/ </span>](<span class="na">https://daringfireball.net/ </span>)

作者中的Aaron Swartz是天才程序员，著名社交网站[Reddit](http://www.reddit.com/)的联合创始人，14岁参与RSS 1.0规格标准的制订，致力于网络信息开放。在2011年7月19日，因被指控从MIT和JSTOR下载480万篇学术论文并以免费形式上传于网络被捕，2013年1月自杀身亡，年仅26岁。  
</code></pre></td></tr></table>
</div>
</div><p>文章保持后将仓库新增内容推送到远程，几分钟后即可在  <a href="https://shuzang.github.io">https://shuzang.github.io</a> 看的这篇文章</p>
<p></p>
<h2 id="6-主题迁移">6. 主题迁移</h2>
<p>随着使用时间的增加，逐渐意识到某些功能的必不可少，比如目录、数学公式支持等。KeepIt 主题已经停止了更新，好在在KeepIt的基础上重构设计的 <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer">LoveIt</a> 主题，解决了大部分我关心的问题。这里借此介绍如何更换主题。</p>
<p>首先删除原来的主题子模块</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ git submodule deinit themes/LoveIt
$ git rm themes/LoveIt
</code></pre></td></tr></table>
</div>
</div><p>然后添加新的主题作为子模块并重新配置 <code>config.toml</code> 文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ git submodule add https://github.com/dillonzq/LoveIt.git themes/LoveIt
</code></pre></td></tr></table>
</div>
</div><p>具体的配置可以参考主题文档，一个参考配置如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;Shuzang&#39;s Blog&#34;</span>                <span class="c"># 设置网站标题</span>
<span class="nx">theme</span> <span class="p">=</span> <span class="s2">&#34;LoveIt&#34;</span>                        <span class="c"># 设置主题为LoveIt</span>
<span class="nx">hasCJKLanguage</span> <span class="p">=</span> <span class="kc">true</span>                   <span class="c"># 启用对中文统计的支持，不启用字数统计会出问题</span>
<span class="nx">paginate</span> <span class="p">=</span> <span class="mi">10</span>                           <span class="c"># 每页的文章数量设置为10，便于根据页数快速计算总文章数</span>

<span class="c"># 作者名设置</span>
<span class="p">[</span><span class="nx">author</span><span class="p">]</span>                                            
  <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;shuzang&#34;</span>
  
<span class="c"># 菜单栏新添life页面并调整顺序</span>
<span class="p">[</span><span class="nx">menu</span><span class="p">]</span>                                               
  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;posts&#34;</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Posts&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;posts&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">1</span>

  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;categories&#34;</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Categories&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;categories&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">2</span>  

  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;tags&#34;</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Tags&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;tags&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">3</span>

  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;life&#34;</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Life&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;life&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">4</span>

  <span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">identifier</span> <span class="p">=</span> <span class="s2">&#34;about&#34;</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;About&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;about&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">5</span>
    
 <span class="c"># 基本参数设置，包括网站描述字段、关键词、主页文章显示模式、子标题</span>
 <span class="p">[</span><span class="nx">params</span><span class="p">]</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">&#34;shuzang&#39;s personal blog&#34;</span>                      <span class="c"># site description</span>
  <span class="nx">keywords</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;blog&#34;</span><span class="p">,</span> <span class="s2">&#34;Golang&#34;</span><span class="p">,</span> <span class="s2">&#34;Hugo&#34;</span><span class="p">,</span> <span class="s2">&#34;blockchain&#34;</span><span class="p">,</span> <span class="s2">&#34;go&#34;</span><span class="p">,</span> <span class="s2">&#34;life&#34;</span><span class="p">]</span>     <span class="c"># site keywords</span>
                                              
  <span class="nx">home_mode</span> <span class="p">=</span> <span class="s2">&#34;other&#34;</span>                                <span class="c"># [post, other] home mode</span>
  <span class="nx">subtitle</span> <span class="p">=</span> <span class="s2">&#34;The world loves people who love life&#34;</span>  <span class="c"># subtitle shown in home page</span>
  
  <span class="c">#头像、主页社交链接</span>
  <span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">gravatar</span><span class="p">]</span>
    <span class="nx">email</span> <span class="p">=</span> <span class="s2">&#34;lylw1996@qq.com&#34;</span>

  <span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">social</span><span class="p">]</span>                                    <span class="c"># Social Info in home page</span>
    <span class="nx">GitHub</span> <span class="p">=</span> <span class="s2">&#34;shuzang&#34;</span>
    <span class="nx">Email</span> <span class="p">=</span> <span class="s2">&#34;lylw1996@qq.com&#34;</span>
    <span class="nx">Steam</span> <span class="p">=</span> <span class="s2">&#34;76561198343669932&#34;</span>
    <span class="nx">Skype</span> <span class="p">=</span> <span class="s2">&#34;live:844327696&#34;</span>
    
  <span class="c"># gitalk设置涉及clientId和clientSecret，忽略</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="附录i-github-action">附录I Github Action</h2>
<p><a href="https://github.com/features/actions" target="_blank" rel="noopener noreffer">GitHub Actions</a> 是 GitHub 在2018年10月推出的一个<a href="http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html" target="_blank" rel="noopener noreffer">持续集成服务</a>，之前一直是试用阶段，去年(2019年)年末刚刚开放，据说比<a href="http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html" target="_blank" rel="noopener noreffer">Travis CI</a> 更简单更好用，所以打算把持续集成工具切换到它。同时，之前博客部署使用了两个仓库，一个放源码，一个放生成的网页文件，目前来看可以统一成一个。本篇文章就打算做这两件事。</p>
<p>Github Actions入门可以阅读<a href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions" target="_blank" rel="noopener noreffer">官方文档</a>或者阮一峰大神的<a href="http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html" target="_blank" rel="noopener noreffer">GitHub Actions 入门教程</a></p>
<h2 id="附录ii-使用travis-ci">附录II 使用Travis CI</h2>
<p>通过Travis CI做博客的持续集成，可以每次自动渲染生成新的博客网页并推送到<code>shuzang.github.io</code>仓库，从而实现调整域名的目的。但之前尝试了多次持续集成都没有成功，还把博客搞坏了，最终只能重建网站。这一次发现了之前存在的问题，终于成功了。</p>
<h3 id="步骤1-申请token">步骤1 申请Token</h3>
<p>在GitHub 上申请一个新的 <a href="https://github.com/settings/tokens/new" target="_blank" rel="noopener noreffer">personal access token</a>。</p>
<p><code>Token description</code> 随便填，只要之后查看的时候知道是博客的就行。勾选所有 <code>repo</code> 列表项目，其它项目不要选。点击 <code>Generate token</code> 生成Token。</p>
<p></p>
<p>之后跳转的页面会显示Token的值，一定要记下来，因为离开这个页面之后这个值就再也无法查看。我因为已经做过一次了，这里就只查看一下。</p>
<p></p>
<h3 id="步骤2-设置travis-ci">步骤2 设置Travis CI</h3>
<p><a href="https://travis-ci.org/account/repositories" target="_blank" rel="noopener noreffer">Travis CI</a>是一个持续集成的工具，使用GitHub账号登陆，然后开启 <code>blog</code> 仓库，选择 <code>setting</code>。</p>
<p></p>
<p>在设置页面填写<strong>Environment Variables</strong>。</p>
<ul>
<li><strong>Name</strong> 填写： <code>GITHUB_TOKEN</code></li>
<li><strong>Value</strong> 填写：刚刚在 GitHub 申请到的 Token 的值</li>
</ul>
<p></p>
<p>填写完成后点击<code>Add</code>添加</p>
<h3 id="步骤3-编写配置文件">步骤3 编写配置文件</h3>
<p>在博客根目录下创建并编辑<code>.travis.yml</code>文件，该文件的作用是告诉Travis CI如何部署博客</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ ls -al blog
total <span class="m">30</span>
drwxr-xr-x <span class="m">1</span> 书葬 <span class="m">197610</span>    <span class="m">0</span> 9月  <span class="m">29</span> 20:28 ./
drwxr-xr-x <span class="m">1</span> 书葬 <span class="m">197610</span>    <span class="m">0</span> 9月  <span class="m">28</span> 18:20 ../
drwxr-xr-x <span class="m">1</span> 书葬 <span class="m">197610</span>    <span class="m">0</span> 9月  <span class="m">29</span> 20:28 .git/
-rw-r--r-- <span class="m">1</span> 书葬 <span class="m">197610</span>  <span class="m">101</span> 9月  <span class="m">28</span> 18:21 .gitmodules
-rw-r--r-- <span class="m">1</span> 书葬 <span class="m">197610</span> <span class="m">1810</span> 9月  <span class="m">29</span> 20:10 .travis.yml
drwxr-xr-x <span class="m">1</span> 书葬 <span class="m">197610</span>    <span class="m">0</span> 9月  <span class="m">28</span> 18:21 archetypes/
-rw-r--r-- <span class="m">1</span> 书葬 <span class="m">197610</span> <span class="m">4946</span> 9月  <span class="m">29</span> 18:27 config.toml
drwxr-xr-x <span class="m">1</span> 书葬 <span class="m">197610</span>    <span class="m">0</span> 9月  <span class="m">28</span> 18:24 content/
drwxr-xr-x <span class="m">1</span> 书葬 <span class="m">197610</span>    <span class="m">0</span> 9月  <span class="m">29</span> 18:56 docs/
-rw-r--r-- <span class="m">1</span> 书葬 <span class="m">197610</span>  <span class="m">456</span> 9月  <span class="m">29</span> 20:28 README.md
drwxr-xr-x <span class="m">1</span> 书葬 <span class="m">197610</span>    <span class="m">0</span> 9月  <span class="m">28</span> 18:21 resources/
drwxr-xr-x <span class="m">1</span> 书葬 <span class="m">197610</span>    <span class="m">0</span> 9月  <span class="m">28</span> 18:21 static/
drwxr-xr-x <span class="m">1</span> 书葬 <span class="m">197610</span>    <span class="m">0</span> 9月  <span class="m">28</span> 18:21 themes/
</code></pre></td></tr></table>
</div>
</div><p>文件内容如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">language</span><span class="p">:</span><span class="w"> </span><span class="l">go</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">go</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="s2">&#34;1.12&#34;</span><span class="w">  </span><span class="c"># 指定Golang 1.12</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">dist</span><span class="p">:</span><span class="w"> </span><span class="l">bionic </span><span class="w"> </span><span class="c"># Ubuntu 18.04</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">env</span><span class="p">:</span><span class="w">
</span><span class="w"> </span><span class="nt">global</span><span class="p">:</span><span class="w">
</span><span class="w">   </span><span class="c"># Github Pages</span><span class="w">
</span><span class="w">   </span>- <span class="nt">GH_REF</span><span class="p">:</span><span class="w"> </span><span class="l">github.com/shuzang/shuzang.github.io</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c"># Specify which branches to build using a safelist</span><span class="w">
</span><span class="w"></span><span class="c"># 分支白名单限制：只有 master 分支的提交才会触发构建</span><span class="w">
</span><span class="w"></span><span class="c"># branches:</span><span class="w">
</span><span class="w"></span><span class="c">#   only:</span><span class="w">
</span><span class="w"></span><span class="c">#     - master</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">before_install</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="c"># 安装依赖</span><span class="w">
</span><span class="w">  </span><span class="c">#  - wget -q -O libstdc++6.deb http://security.ubuntu.com/ubuntu/pool/main/g/gcc-5/libstdc++6_5.4.0-6ubuntu1~16.04.10_amd64.deb</span><span class="w">
</span><span class="w">  </span><span class="c">#  - sudo dpkg --force-all -i libstdc++6.deb</span><span class="w">
</span><span class="w">  </span><span class="c"># 删除docs文件夹</span><span class="w">
</span><span class="w">  </span>- <span class="l">rm -rf ./docs</span><span class="w">
</span><span class="w">  </span><span class="c"># 安装 hugo （version: v0.58.0）</span><span class="w">
</span><span class="w">  </span>- <span class="l">wget -q -O hugo.deb https://github.com/gohugoio/hugo/releases/download/v0.58.3/hugo_extended_0.58.3_Linux-64bit.deb</span><span class="w">
</span><span class="w">  </span>- <span class="l">sudo dpkg -i hugo.deb</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">install</span><span class="p">:</span><span class="w">
</span><span class="w"></span><span class="c"># 运行hugo命令</span><span class="w">
</span><span class="w">  </span>- <span class="l">hugo</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">script</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">cd ./docs</span><span class="w">
</span><span class="w">  </span>- <span class="l">git init</span><span class="w">
</span><span class="w">  </span>- <span class="l">git config user.name &#34;shuzang&#34;</span><span class="w">
</span><span class="w">  </span>- <span class="l">git config user.email &#34;lylw1996@qq.com&#34;</span><span class="w">
</span><span class="w">  </span>- <span class="l">git add .</span><span class="w">
</span><span class="w">  </span>- <span class="l">git commit -m &#34;Update Blog By TravisCI With Build $TRAVIS_BUILD_NUMBER&#34;</span><span class="w">
</span><span class="w">  </span><span class="c"># Github Pages</span><span class="w">
</span><span class="w">  </span>- <span class="l">git push --force --quiet &#34;https://$GITHUB_TOKEN@${GH_REF}&#34; master:master</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>大部分都有注释说明，这里要注意的两点是</p>
<ol>
<li>在运行 <code>hugo</code> 命令前要先删除<code>docs</code>文件夹，是为了清除历史网页文件，这是Hugo官方建议的</li>
<li>注释掉了常规 Github pages 进行持续集成时使用的 <code>deploy</code> 部分，因为我们只需要单纯的把网页文件提交到另一个仓库。只有当普通的项目启用github pages时需要这部分，这里的博客部署不需要，开启<code>deploy</code>部分反而会出现错误，目前不知道原因。</li>
</ol>
<h3 id="步骤4-使用说明">步骤4 使用说明</h3>
<p>大部分工作都通过Travis CI自动进行了，以后提交只需要在改动之后直接<code>git push</code>到远程仓库，将会触发自动构建，只需要一两分钟，就可以在<a href="https://travis-ci.org/" target="_blank" rel="noopener noreffer">Travis CI</a> 上查看部署情况。</p>
<p><font color="green">绿色</font> 代表部署成功  <font color="yellow">黄色</font> 代表正在部署  <font color="red">红色</font> 代表部署失败  <font color="gray">灰色</font> 代表部署被取消</p>
<p></p>
<p>然后访问<a href="https://shuzang.github.io" target="_blank" rel="noopener noreffer">博客首页</a>，不出意外就可以看到新的改动了。如果部署失败，在网页端的日志记录中找到失败原因，然后修改代码重新提交即可，新的提交通过后，原先失败的提交将会被解决。</p>
]]></description></item><item><title>Hexo 搭建个人博客</title><link>https://shuzang.github.io/using-hexo-build-persoanl-blog/</link><pubDate>Tue, 17 Apr 2018 20:30:00 +0800</pubDate><author>作者</author><guid>https://shuzang.github.io/using-hexo-build-persoanl-blog/</guid><description><![CDATA[<p><a href="https://hexo.io/zh-cn/index.html" target="_blank" rel="noopener noreffer">Hexo</a>是一款快速、简洁且高效的静态博客框架，使用Markdown渲染引擎解析文章，拥有着丰富的<a href="https://hexo.io/themes/" target="_blank" rel="noopener noreffer">主题社区</a>，可以帮助我们快速建立自己的博客，正在成为越来越多的技术人员制作自己博客的首选。</p>
<p>我选用了Hexo+github的博客部署模式，博客地址为：<a href="https://shuzang.github.io" target="_blank" rel="noopener noreffer">https://shuzang.github.io</a></p>
<!-- more -->
<h2 id="开始使用">开始使用</h2>
<p>Hexo使用Node.js编写，安装之前需要先安装两个工具</p>
<ul>
<li>Node.js，版本不低于8.6，建议10.0以上</li>
<li>Git</li>
</ul>
<p>我在win10环境下管理和部署博客，因此使用windows下的包管理工具<a href="https://chocolatey.org/" target="_blank" rel="noopener noreffer">chocolate</a>安装git和<a href="https://github.com/jasongin/nvs/" target="_blank" rel="noopener noreffer">nvs</a>，然后使用nvs安装和管理Node.js，默认会安装最新的软件版本，当然也可以自己指定版本号。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="p">&gt;</span> <span class="n">choco</span> <span class="n">install</span> <span class="n">git</span>
<span class="p">&gt;</span> <span class="n">choco</span> <span class="n">install</span> <span class="n">nvs</span>
<span class="p">&gt;</span> <span class="nb">set-executionpolicy</span> <span class="n">remotesigned</span>
<span class="p">&gt;</span> <span class="n">nvs</span> <span class="n">add</span> <span class="n">lts</span>
<span class="p">&gt;</span> <span class="n">nvs</span> <span class="n">link</span> <span class="n">lts</span>
</code></pre></td></tr></table>
</div>
</div><p>以上程序安装完成后，使用npm安装Hexo</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="p">&gt;</span> <span class="n">npm</span> <span class="n">install</span> <span class="n">-g</span> <span class="n">hexo-cli</span>
</code></pre></td></tr></table>
</div>
</div><p>此时即可执行以下命令建立博客</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hexo init hexo_blog  <span class="c1"># hexo_blog为博客项目文件夹</span>
$ <span class="nb">cd</span> hexo_blog
</code></pre></td></tr></table>
</div>
</div><p>当前hexo_blog文件夹的目录结构如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">.
├── node_modules       //依赖安装目录
├── scaffolds          //模板文件夹，新建的文章将会从此目录下的文件中继承格式
<span class="p">|</span>   ├── draft.md         //草稿模板
<span class="p">|</span>   ├── page.md          //页面模板
<span class="p">|</span>   └── post.md          //文章模板
├── <span class="nb">source</span>             //资源文件夹，用于放置图片、数据、文章等资源
<span class="p">|</span>   └── _posts           //文章目录
├── themes             //主题文件夹
<span class="p">|</span>   └── landscape        //默认主题
├── .gitignore         //指定不纳入git版本控制的文件
├── _config.yml        //站点配置文件          
├── package.json       //Hexo软件版本信息和依赖的模块列表
└── package-lock.json
</code></pre></td></tr></table>
</div>
</div><p><strong>_config.yml</strong>是网站的<a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener noreffer">配置</a> 信息，以<a href="http://www.ruanyifeng.com/blog/2016/07/yaml.html?f=tt" target="_blank" rel="noopener noreffer">YAML</a>语言编写，在此可以配置大部分的参数。</p>
<p>在根目录下执行如下命令启动 hexo 的内置 Web 服务器</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hexo server
</code></pre></td></tr></table>
</div>
</div><p>该命令将会调用 Markdown 引擎解析项目中的博客内容生成网页资源，并启动一个简易的 Web 服务器用于提供对内存中网页资源的访问，Web 服务器默认监听 4000 端口，用户可在浏览器中通过地址 <code>localhost:4000</code> 访问博客。</p>
<p></p>
<p>其它的常用命令如下：</p>
<ul>
<li><code>hexo new [layout] &lt;title&gt;</code>：新建文章或页面，<code>[layout]</code>表示模板，<code>&lt;title&gt;</code>表示标题，比如
<ul>
<li><code>hexo new post 001</code>，表示新建了一个标题为<code>001</code>的文章</li>
<li><code>hexo new page 001</code>，表示新建了一个标题为<code>001</code>的页面</li>
</ul>
</li>
<li><code>hexo generate</code>：生成网站静态文件，生成后的网页会放在根目录下<code>public</code>文件夹里</li>
<li><code>hexo deploy</code>：部署网站，可以把生成的页面（public文件夹内容）部署到指定地方</li>
<li><code>hexo clean</code>：用来清空<code>public</code>文件夹</li>
</ul>
<h2 id="更换chic主题">更换Chic主题</h2>
<p><a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank" rel="noopener noreffer">Chic</a>主题是一款比较简洁的主题，虽然用的人不多，但基本功能都有，同时也避免出现大家博客页面都一样的尴尬。</p>
<p>在根目录下执行如下命令下载主题文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ git clone https://github.com/Siricee/hexo-theme-Chic.git themes/Chic
</code></pre></td></tr></table>
</div>
</div><p>打开站点配置文件<code>_config.yml</code>将<code>theme</code>字段的值改为<code>Chic</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Extensions</span><span class="w">
</span><span class="w"></span><span class="c">## Plugins: https://hexo.io/plugins/</span><span class="w">
</span><span class="w"></span><span class="c">## Themes: https://hexo.io/themes/</span><span class="w">
</span><span class="w"></span><span class="nt">theme</span><span class="p">:</span><span class="w"> </span><span class="l">Chic</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>重新执行<code>hexo server</code>命令，打开浏览器进入http://localhost:4000/页面</p>
<p></p>
<h3 id="1-站点配置">1. 站点配置</h3>
<p>主要编辑根目录和主题目录下的两个<code>_config.yml</code>文件进行站点的相关配置，注意每个字段的冒号与值之间需要间隔一个空格，修改完成后需要重新执行<code>hexo server</code>命令</p>
<h4 id="网站基本信息">网站基本信息</h4>
<p>根目录下的<code>_config.yml</code>文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Site</span><span class="w">
</span><span class="w"></span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">shuzang&#39;s blog</span><span class="w">
</span><span class="w"></span><span class="nt">subtitle</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;世界钟爱热爱生活的人&#39;</span><span class="w">
</span><span class="w"></span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;shuzang的个人博客&#39;</span><span class="w">
</span><span class="w"></span><span class="nt">keywords</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;blog, Golang, Hugo, blockchain&#39;</span><span class="w"> 
</span><span class="w"></span><span class="nt">author</span><span class="p">:</span><span class="w"> </span><span class="l">shuzang</span><span class="w">
</span><span class="w"></span><span class="nt">language</span><span class="p">:</span><span class="w"> </span><span class="l">en</span><span class="w">
</span><span class="w"></span><span class="nt">timezone</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>主题目录下的<code>_config.yml</code>文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Header</span><span class="w">
</span><span class="w"></span><span class="nt">navname</span><span class="p">:</span><span class="w"> </span><span class="l">shuzang&#39;s Blog</span><span class="w">
</span><span class="w"></span><span class="nt">nickname</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w">  </span><span class="c"># nickname置空，因为navname中已经出现了我们的名字</span><span class="w">
</span><span class="w"></span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">世界钟爱热爱生活的人</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="头像">头像</h4>
<p>将自己的头像命名为<code>avatar.png</code>，放在主题目录下的<code>source/image</code>文件夹内，并在主题配置文件中设置如下</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">avatar</span><span class="p">:</span><span class="w"> </span><span class="l">/image/avatar.png</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="网站-favicon">网站 favicon</h4>
<p>通过<a href="https://www.google.com/search?q=favicon&#43;generator" target="_blank" rel="noopener noreffer">favicon generator</a> 网站生成favicon.ico作为网站favicon，放在主题目录下的<code>source</code>文件夹内，替换原来的图标</p>
<h4 id="社交链接">社交链接</h4>
<p>主题配置文件中，只开启github和RSS的链接，主题本身不支持RSS，之后我们按照其它插件开启，这里先显示图标</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">links</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">Github</span><span class="p">:</span><span class="w"> </span><span class="l">https://github.com/shuzang</span><span class="w">
</span><span class="w">  </span><span class="nt">RSS</span><span class="p">:</span><span class="w"> 
</span></code></pre></td></tr></table>
</div>
</div><h4 id="copyright">copyright</h4>
<p>主题配置文件中，取消显示文章末尾copyright中的slogan</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">post_copyright_slogan_enable</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="mathjax支持">MathJax支持</h4>
<p>主题本身支持数学公式，在主题配置文件中开启</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># plugin functions</span><span class="w">
</span><span class="w"></span><span class="c">## Mathjax: Math Formula Support</span><span class="w">
</span><span class="w"></span><span class="c">## https://www.mathjax.org</span><span class="w">
</span><span class="w"></span><span class="nt">mathjax</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="nt">import</span><span class="p">:</span><span class="w"> </span><span class="l">demand</span><span class="w"> </span><span class="c"># global or demand</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>demand和global为mathjax的加载方式，global会在所有页面都加载，但可能导致部分markdown语法被错误解析，demand则只需要在需要开启支持的文章Front-matter中声明即可</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">---
title: MathJax Test
date: 2019-07-05 21:27:59
tags:
mathjax: true # 加入这个声明，这篇文章就会开启mathjax渲染
---
</code></pre></td></tr></table>
</div>
</div><h4 id="中英文间自动添加空格">中英文间自动添加空格</h4>
<p>在主题配置文件的<code># Writing</code>部分添加如下字段</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">auto_spacing</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>执行<code>hexo g</code>命令重新生成页面</p>
<h3 id="2-添加菜单栏其它页面">2. 添加菜单栏其它页面</h3>
<p>主要指标签和分类页面，豆瓣电影和图书页面</p>
<h4 id="tagcategoryabout页面">Tag、Category、About页面</h4>
<p>根目录下执行新建页面命令</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hexo new page tag
$ hexo new page category
$ hexo new page about
</code></pre></td></tr></table>
</div>
</div><p>进入<code>source/tag</code>目录，为<code>index.md</code>文件增加layout字段</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">// source\tag\index.md
---
title: Tag
layout: tag
---
</code></pre></td></tr></table>
</div>
</div><p>category和about页面同理，layout字段值为category和about</p>
<h4 id="豆瓣电影和图书页面">豆瓣电影和图书页面</h4>
<p>为站点添加豆瓣电影和图书页面，使用模块hexo-douban完成，首先根目录下执行下列命令安装该模块</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install hexo-douban --save
</code></pre></td></tr></table>
</div>
</div><p>在站点配置文件中添加以下内容，不需要游戏页面，所以注释掉了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">douban</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">user</span><span class="p">:</span><span class="w">   </span><span class="c"># 个人豆瓣ID</span><span class="w">
</span><span class="w">  </span><span class="nt">builtin</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">  </span><span class="nt">book</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;我的书单&#39;</span><span class="w">
</span><span class="w">    </span><span class="nt">quote</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;唯有书籍慰藉心灵&#39;</span><span class="w">
</span><span class="w">  </span><span class="nt">movie</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;我的电影&#39;</span><span class="w">
</span><span class="w">    </span><span class="nt">quote</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;电影拯救孤独&#39;</span><span class="w">
</span><span class="w"></span><span class="c">#  game:</span><span class="w">
</span><span class="w"></span><span class="c">#    title: &#39;This is my game title&#39;</span><span class="w">
</span><span class="w"></span><span class="c">#    quote: &#39;This is my game quote&#39;</span><span class="w">
</span><span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="m">10000</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>在主题配置文件中新增电影和书籍页面的入口，注意顺序，要放在About字段前，因为这决定了菜单栏的显示顺序</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># navigatior items</span><span class="w">
</span><span class="w"></span><span class="nt">nav</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">Posts</span><span class="p">:</span><span class="w"> </span><span class="l">/archives</span><span class="w">
</span><span class="w">  </span><span class="nt">Categories</span><span class="p">:</span><span class="w"> </span><span class="l">/category</span><span class="w">
</span><span class="w">  </span><span class="nt">Tags</span><span class="p">:</span><span class="w"> </span><span class="l">/tag</span><span class="w">
</span><span class="w">  </span><span class="nt">Books</span><span class="p">:</span><span class="w"> </span><span class="l">/book</span><span class="w">
</span><span class="w">  </span><span class="nt">Movies</span><span class="p">:</span><span class="w"> </span><span class="l">/movie  </span><span class="w">
</span><span class="w">  </span><span class="nt">About</span><span class="p">:</span><span class="w"> </span><span class="l">/about</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>然后在根目录下执行下列命令生成电影和图书页面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hexo douban
</code></pre></td></tr></table>
</div>
</div><p>可选参数</p>
<ul>
<li>-b | &ndash;books: 只生成豆瓣读书页面</li>
<li>-m | &ndash;movies: 只生成豆瓣电影页面</li>
</ul>
<p>执行命令后，插件会根据用户提供的 ID 爬取豆瓣中的数据信息并在 <code>public</code> 目录下生成对应的页面，当服务器启动或部署后会将页面显示在对应的菜单路由下。</p>
<p>需要隔一定周期执行一次<code>hexo douban</code>命令，虽然在站点配置中设置了 <code>douban.builtin: true</code>会在每次部署时自动执行<code>hexo douban</code>命令，但这是没有必要的，因为该命令爬取页面的时间比较长，会大幅增加编译打包时间，而我们豆瓣的图书和电影数据变动则并不频繁。</p>
<p>同时，以后也无法使用<code>hexo d</code>作为<code>hexo deploy</code>的简化，因为<code>hexo douban</code>的简化也是它。</p>
<p>最后，实际运行时，这两个页面总要弹出about:blank#blocked的空页面，暂时没有找到原因</p>
<h3 id="3-其它细节改进">3. 其它细节改进</h3>
<p>对整个网站的一些细节做调整</p>
<h4 id="页脚显示站点运行时间">页脚显示站点运行时间</h4>
<p>首先在站点配置文件中新增<code>since</code>字段，设置其值为站点建立时间</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">since</span><span class="p">:</span><span class="w"> </span><span class="m">2018</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>然后打开<code>themes/Chic/layout/_partial/footer.ejs</code>文件，修改其内容为</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">footer</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;footer&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;footer&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;copyright&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>© <span class="err">&lt;</span>%= config.since %&gt; - <span class="err">&lt;</span>%= date(Date.now(), &#34;YYYY&#34;) %&gt;  <span class="err">&lt;</span>%= config.author %&gt; | Powered by <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://hexo.io&#34;</span> <span class="na">target</span><span class="o">=</span><span class="s">&#34;_blank&#34;</span><span class="p">&gt;</span>Hexo<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="err">&amp;</span> <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://github.com/Siricee/hexo-theme-Chic&#34;</span> <span class="na">target</span><span class="o">=</span><span class="s">&#34;_blank&#34;</span><span class="p">&gt;</span>Chic<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="修改文章建立时间格式">修改文章建立时间格式</h4>
<p>打开<code>themes/Chic/layout/_partial/post.ejs</code>文件，修改以下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;post-time&#34;</span><span class="p">&gt;</span>
       Date: <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span><span class="err">&lt;</span>%- date(page.date, theme.date_format)  %&gt;<span class="ni">&amp;nbsp;&amp;nbsp;</span><span class="err">&lt;</span>%- time(page.date, theme.time_format)%&gt;<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>删除其中关于具体每天几点几分几秒的显示</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;post-time&#34;</span><span class="p">&gt;</span>
       Date: <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span><span class="err">&lt;</span>%- date(page.date, theme.date_format)  %&gt;<span class="ni">&amp;nbsp;&amp;nbsp;</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="开启rss">开启RSS</h4>
<p>在站点根目录下安装<code>hexo-generator-feed</code>模块</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">npm install hexo-generator-feed
</code></pre></td></tr></table>
</div>
</div><p>在站点配置文件中添加以下内容启用插件，注意放到<code>#Extensions</code>字段后面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Extensions</span><span class="w">
</span><span class="w"></span><span class="nt">plugins</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="l">hexo-generator-feed</span><span class="w">
</span><span class="w"></span><span class="c">#Feed Atom</span><span class="w">
</span><span class="w"></span><span class="nt">feed</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">atom</span><span class="w">
</span><span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">atom.xml</span><span class="w">
</span><span class="w">  </span><span class="nt">limit</span><span class="p">:</span><span class="w"> </span><span class="m">20</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>在主题配置文件的社交链接部分更改RSS的值，我们之前已经启用了图标</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">links</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">RSS</span><span class="p">:</span><span class="w"> </span><span class="l">atom.xml</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>执行<code>hexo g</code>命令生成atom.xml文件，然后就启用了</p>
<h4 id="支持mermaid">支持mermaid</h4>
<p>安装模块<code>hexo-filter-mermaid-diagrams</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install hexo-filter-mermaid-diagrams
</code></pre></td></tr></table>
</div>
</div><p>在站点配置文件中添加如下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># mermaid chart </span><span class="w">
</span><span class="w"></span><span class="nt">mermaid</span><span class="p">:</span><span class="w"> </span><span class="c">## mermaid url https://github.com/knsv/mermaid </span><span class="w">
</span><span class="w">  </span><span class="nt">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c"># default true </span><span class="w">
</span><span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;7.1.2&#34;</span><span class="w"> </span><span class="c"># default v7.1.2 </span><span class="w">
</span><span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w">  </span><span class="c"># find more api options from https://github.com/knsv/mermaid/blob/master/src/mermaidAPI.js </span><span class="w">
</span><span class="w">    </span><span class="c">#startOnload: true  // default true </span><span class="w">
</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>在<code>themes/Chic/layout/_partial/footer.ejs</code>文件中添加如下内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="err">&lt;</span>% if (theme.mermaid.enable) { %&gt;
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#39;https://unpkg.com/mermaid@&lt;%= theme.mermaid.version %&gt;/dist/mermaid.min.js&#39;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">mermaid</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">mermaid</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span><span class="nx">theme</span><span class="o">:</span> <span class="s1">&#39;forest&#39;</span><span class="p">});</span>
    <span class="p">}</span>
  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="err">&lt;</span>% } %&gt;
</code></pre></td></tr></table>
</div>
</div><p>使用和普通代码相同，只是要声明为mermaid格式</p>
<h2 id="部署博客">部署博客</h2>
<p>我选择了部署到github，主要使用了github pages功能</p>
<ol>
<li>
<p>在github网站创建一个新的公开仓库<strong>hexo_blog</strong></p>
</li>
<li>
<p>在仓库页面选择 <code>Settings——&gt;Options——GitHub Pages——&gt;Source</code>，在下拉列表中选择<strong>master branch</strong>，选择<strong>Save</strong>，生成一个GitHub pages网址，这就是我们的网站域名了</p>
</li>
<li>
<p>安装部署插件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install hexo-deployer-git --save
$ npm install hexo-server --save
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>如果这台电脑第一次安装使用git，还需要配置git，但不属于本文范畴</p>
</li>
<li>
<p>配置<code>_config.yml</code>文件以下几部分</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># URL</span><span class="w">
</span><span class="w"></span><span class="c">## If your site is put in a subdirectory, set url as &#39;http://yoursite.com/child&#39; and root as &#39;/child/&#39;</span><span class="w">
</span><span class="w"></span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">https://github.com/shuzang/hexo_blog</span><span class="w">
</span><span class="w"></span><span class="nt">root</span><span class="p">:</span><span class="w"> </span><span class="l">/hexo_blog/</span><span class="w">
</span><span class="w">  
</span><span class="w"></span><span class="c"># Deployment</span><span class="w">
</span><span class="w"></span><span class="c">## Docs: https://hexo.io/docs/deployment.html</span><span class="w">
</span><span class="w"></span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">git</span><span class="w">
</span><span class="w">   </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">git@github.com:shuzang/hexo_blog.git</span><span class="w">
</span><span class="w">   </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l">master</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>这时候就已经万事俱备了，只要使用Hexo部署命令，就可以成功发布到Github</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hexo clean <span class="o">&amp;&amp;</span> hexo deploy -g
</code></pre></td></tr></table>
</div>
</div><h2 id="项目恢复">项目恢复</h2>
<p>hexo+github模式的个人博客部署好了之后，hexo_blog文件夹中存在大量的文件，不仅仅是各种配置，还有我们所写的文章。在操作过程中，可能面对两种情况：</p>
<ul>
<li>系统崩溃，所有文件丢失</li>
<li>要换电脑了</li>
</ul>
<p>所以我们应未雨绸缪，经多方查找，终于找到了一种比较简单而有效的方法，即使用Travis CI做持续集成，项目文件放在<code>hexo</code>分支下，渲染后的静态文件在<code>master</code>分支下，只需要更新<code>hexo</code>分支中的文章就可以自动更新，进行配置也只需要克隆<code>hexo</code>分支然后进行改动，不需要每次都重新<code>hexo init</code>并配置</p>
<h2 id="主题收集">主题收集</h2>
<ul>
<li><a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener noreffer">Next主题</a></li>
<li><a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank" rel="noopener noreffer">Chic主题</a></li>
</ul>
<h2 id="参考">参考</h2>
<p>[1] <a href="https://segmentfault.com/a/1190000008784436" target="_blank" rel="noopener noreffer">segmentfault-hexo原理浅析</a></p>
<p>[2] <a href="https://www.jianshu.com/p/2aaac7a19736" target="_blank" rel="noopener noreffer">简书-Hexo博客配置RSS插件</a></p>
<p>[3] <a href="https://www.npmjs.com/package/hexo-filter-mermaid-diagrams" target="_blank" rel="noopener noreffer">NPM-hexo-filter-mermaid-diagrams</a></p>
<p>[4] <a href="http://yearito.cn/tags/Hexo/" target="_blank" rel="noopener noreffer">Yearito-Hexo搭建个人博客系列</a></p>
<p>[5] <a href="https://www.jianshu.com/p/3a01cc514ce7?utm_source=oschina-app" target="_blank" rel="noopener noreffer">hexo和next主题相关设置</a></p>
<p>[6] <a href="https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html" target="_blank" rel="noopener noreffer">打造个性超赞博客Hexo+NexT+GithubPages的超深度优化</a></p>
<p>[7] <a href="http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html" target="_blank" rel="noopener noreffer">hexo的next主题个性化教程:打造炫酷网站</a></p>
<p>[8] <a href="https://juejin.im/post/5a6ee00ef265da3e4b770ac1" target="_blank" rel="noopener noreffer">关于HEXO搭建个人博客的点点滴滴</a></p>
]]></description></item></channel></rss>