<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>区块链与工业物联网 | Shuzang's Blog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=Description content="shuzang's personal blog"><link rel=prev href=https://shuzang.top/2019/04/%E6%8F%90%E5%8F%96%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%9A%84%E5%8C%BA%E5%9D%97%E4%BA%A7%E7%94%9F%E6%97%B6%E9%97%B4/><link rel=next href=https://shuzang.top/2019/04/industry-4.0-development-and-application-of-intelligent-manufacturing/><link rel=canonical href=https://shuzang.top/blockchain-for-iiot/><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary"><meta name=twitter:title content="区块链与工业物联网"><meta name=twitter:description content="1. 背景 并非所有场景都适合使用区块链，有很多的需求其实是伪需求，本文讨论工业物联网在哪些方面是真正需要区块链的。 1.1 工业物联网 建筑，工厂设备，车"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"区块链与工业物联网","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.top\/blockchain-for-iiot\/"},"image":{"@type":"ImageObject","url":"https:\/\/shuzang.top\/cover.png","width":800,"height":600},"genre":"posts","keywords":"研究思路","wordcount":3353,"url":"https:\/\/shuzang.top\/blockchain-for-iiot\/","datePublished":"2019-04-12T20:24:00\x2b08:00","dateModified":"2019-04-12T20:24:00\x2b08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"shuzang","logo":{"@type":"ImageObject","url":"https:\/\/shuzang.top\/logo.png","width":127,"height":40}},"description":""}</script><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/css/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/css/lib/animate/animate.min.css></head><body><script>window.isDark=(window.localStorage&&window.localStorage.getItem('theme'))==='dark';window.isDark&&document.body.classList.add('dark-theme');</script><div class=wrapper><nav class=navbar><div class=navbar-container><div class="navbar-header animated bounceIn"><a href=https://shuzang.top>Shuzang's Blog</a></div><div class=navbar-menu><a class=menu-item href=https://shuzang.top/posts>Posts</a><a class=menu-item href=https://shuzang.top/categories>Categories</a><a class=menu-item href=https://shuzang.top/tags>Tags</a><a class=menu-item href=https://shuzang.top/life>Life</a><a class=menu-item href=https://shuzang.top/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><nav class=navbar-mobile><div class=navbar-container><div class=navbar-header><div class="navbar-header-title animated bounceIn"><a href=https://shuzang.top>Shuzang's Blog</a></div><div class=menu-toggle id=menu-toggle><span></span><span></span><span></span></div></div><div class=navbar-menu id=mobile-menu><a class=menu-item href=https://shuzang.top/posts>Posts</a><a class=menu-item href=https://shuzang.top/categories>Categories</a><a class=menu-item href=https://shuzang.top/tags>Tags</a><a class=menu-item href=https://shuzang.top/life>Life</a><a class=menu-item href=https://shuzang.top/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><main class=main><div class=container><article class=page><h1 class="post-title animated flipInX">区块链与工业物联网</h1><div class=post-meta><div class=post-meta-main><a class=author href=https://shuzang.top rel=author target=_blank><i class="fas fa-user-circle fa-fw"></i>shuzang
</a>&nbsp;<span class=post-category>included in&nbsp;<i class="far fa-folder fa-fw"></i><a href=https://shuzang.top/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/>研究生的区块链学习之路</a>&nbsp;</span></div><div class=post-meta-other><i class="far fa-calendar-alt fa-fw"></i><time datetime=2019-04-12>2019-04-12</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>about 3353 words&nbsp;
<i class="far fa-clock fa-fw"></i>7 min&nbsp;</div></div><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#1-背景>1. 背景</a><ul><li><a href=#11-工业物联网>1.1 工业物联网</a></li><li><a href=#12-研究现状>1.2 研究现状</a></li><li><a href=#13-场景描述>1.3 场景描述</a></li><li><a href=#13-必要性论述>1.3 必要性论述</a></li></ul></li><li><a href=#2-one-idea>2. One idea</a><ul><li><a href=#21-方案>2.1 方案</a></li><li><a href=#22-仿真实验设计>2.2 仿真实验设计</a></li></ul></li><li><a href=#参考文献>参考文献</a></li></ul></nav></div></div><div class=post-toc-mobile id=post-toc-mobile><details><summary><div class=post-toc-title><span>Contents</span>
<span><i class="details icon fas fa-angle-down"></i></span></div></summary><div class=post-toc-content><nav id=TableOfContentsMobile><ul><li><a href=#1-背景>1. 背景</a><ul><li><a href=#11-工业物联网>1.1 工业物联网</a></li><li><a href=#12-研究现状>1.2 研究现状</a></li><li><a href=#13-场景描述>1.3 场景描述</a></li><li><a href=#13-必要性论述>1.3 必要性论述</a></li></ul></li><li><a href=#2-one-idea>2. One idea</a><ul><li><a href=#21-方案>2.1 方案</a></li><li><a href=#22-仿真实验设计>2.2 仿真实验设计</a></li></ul></li><li><a href=#参考文献>参考文献</a></li></ul></nav></div></details></div><div class=post-content><a class=post-dummy-target id=1-背景></a><h2>1. 背景</h2><p>并非所有场景都适合使用区块链，有很多的需求其实是伪需求，本文讨论工业物联网在哪些方面是真正需要区块链的。</p><a class=post-dummy-target id=11-工业物联网></a><h3>1.1 工业物联网</h3><p>建筑，工厂设备，车辆，仓库，托盘和工人本身正在越来越多地与网络相连。设备范围从微小的环境传感器到复杂的工业机器人。 他们使用的网络可能是有线或无线。 一些低功耗设备将使用电池供电或使用以太网供电（PoE）连接。 其他人必须插入或连接到建筑物的电气系统。许多设备都有自己的固件，可以远程更新或重新编程。</p><p>换句话说，传感器，控制器和专用设备现在存在于网络的边缘，分配唯一的IP或网络地址，收集数据和执行大量通知和扩展企业能力的任务。 这就是工业物联网（IIoT）</p><a class=post-dummy-target id=12-研究现状></a><h3>1.2 研究现状</h3><p>目前确定适用且有大量论文和成果出现的有：</p><ul><li>车联网</li><li>电力网络</li><li>供应链<ul><li>原材料商的原料供应</li><li>成品到经销商、零售商和客户的分发</li></ul></li><li>智能设备（如手环，各类智能产品等）</li><li>回传数据到服务提供商，服务提供商的服务器压力较大，用户担心自己的隐私。</li></ul><a class=post-dummy-target id=13-场景描述></a><h3>1.3 场景描述</h3><p><strong>制造业</strong>：通过嵌入机械设备的传感器帮助确定制造过程中出现的问题和瓶颈。同时还可以通过对机器数据的分析，为机器提供预测性维护。预测性维护意味着只在需要时对机器进行维护，这样可以节省成本和减少机器闲置时间。如，Caterpillar(NYSE:CAT)是世界上最大的工程机械和矿山设备制造商。它与机器数据分析独角兽Uptake合作，将机器联网，然后将包括设备方位和路径、闲置时间和机器使用等数据汇集并进行分析，对设备的运行路径、停机时间和维护进行优化，减少运营成本并提升产量。</p><p><strong>能源</strong>：通过传感器监控照明、温度或能源使用情况，并将数据通过算法进行实时处理，实现微观管理。案例：AutoGrid是由前斯坦福大学智能电网研究室负责人Amit Narayan创办的服务电力、能源行业的大数据公司，通过其能源数据平台(EDP)，公共事业公司、企业、社区甚至家庭可以使用大数据和基于云的软件来调整能源消耗和成本。同时还能帮助电网各端匹配电力供应和需求，降低电网各端的成本。</p><p><strong>供应链/物流</strong>：通过将RFID或NFC标签贴在产品上，可以知道仓库中该产品的确切位置，并可以进行行李或包裹的分拣和跟踪。</p><p><strong>工业可穿戴设备</strong>：将AR技术用于工业设计或安装维护等环节，为工程设计师、技术人员或维护操作人员提供直接展示在眼前的操作说明或复杂问题远程求助和培训等服务。案例：Upskill原名APXLabs，是工业增强现实可穿戴设备内容软件的提供商，其AR软件平台Skylight可以与智能眼镜搭配，将企业工人所需要的操作信息直接显示在他们面前，避免翻阅纸质操作文档或通过电脑来找文件带来的效率低下、容易犯错的问题。</p><a class=post-dummy-target id=13-必要性论述></a><h3>1.3 必要性论述</h3><p>然而，需要考虑的是，单个制造工厂内部是否有使用区块链的必要性。</p><ul><li><p>数据。工业4.0的基础是数据，协同制造、质量检测、设备预测性维护等工业4.0的典型功能都需要完善的数据收集。目前的数据存储方案是云、本地或云和本地相结合，而随着向工业4.0转型，工厂部署的传感器以及产生的数据必然大量增长，无论是云还是本地存储，常规的集中式存储必然使服务器面临极大的压力，尤其是云存储，这种压力不仅是存储空间上的，还有网络带宽上的。另一方面，工厂主往往也担心数据的隐私问题。</p></li><li><p>安全。首先是数据库，现有的工厂数据库安全是集中式普遍面临的安全问题，以现有的安全框架成本较高。区块链作为分布式数据库依赖于其天然的安全性能可以解决这一问题。集中式数据库的多级权限划分也可以通过智能合约来完成。实际上，现有条件下，工厂生产基础资料缺失，收集的数据的生产的指导非常有限，并且数据的真实性也存疑。</p></li><li><p>工厂内生产基础资料的缺失，收集的数据对生产的指导有限，且数据真实性存疑</p></li></ul><blockquote><p>88%的企业认为他们处在数字化变革中，而实际上只有25%的企业真正进行了数字化变革，很多企业误认为重新设计网站就是数字化变革。在国内，“机器换人”就是智能制造，上套信息化系统就是数字化转型，这类认识比比皆是。然而，除了认识上的问题，协同制造、质量检测、设备预测性维护等工业4.0的典型功能无一离不开数据的支持，而数据的存储和安全在中心式的环境下成本很高。区块链解决方案无需昂贵的服务器和安全服务，能充分利用工厂的电脑剩余资源，适用于中小制造工厂采用。</p></blockquote><p>所以，如果单个制造工厂内部部署一个私有的区块链担当数据库的角色，并且保证安全问题。工业4.0更多的是通过对数据的处理来提供相应的服务，并且在行业内，甚至跨行业的协同合作。</p><p>这里出现的问题是如何利用分布式分析、边缘分析、实时分析、机器学习等对存储在区块链中的数据做分析处理，从而提供相应的功能。更多的是工厂间合作的时候，众多的私有区块链如何协作。</p><p>更多的区块链用于物联网的优点，需要解决的问题等见<a href=https://shuzang.github.io/Blockchain-for-IoT target=_blank>物联网与区块链</a></p><a class=post-dummy-target id=2-one-idea></a><h2>2. One idea</h2><a class=post-dummy-target id=21-方案></a><h3>2.1 方案</h3><p><figure><img src=/svg/loading.min.svg data-sizes=auto data-src="https://github.com/shuzang/image/blob/master/%E5%9C%BA%E6%99%AF%E5%92%8C%E5%BE%85%E5%AE%8C%E5%96%84%E7%9A%84%E5%AE%9E%E9%AA%8C%E6%96%B9%E6%A1%88.png?raw=true" alt class=lazyload></figure></p><p>上图是一个制造工厂内的数据流图。依照此图从数据采集开始构思整个方案。</p><ul><li><p>数据来源包括：</p><ul><li>工厂内的制造机器本身集成的电子系统的数据，传入网关或工控电脑</li><li>无法集成而额外部署的传感器采集的数据，传入嵌入式设备网关或移动终端</li><li>机器间，车间之间等的业务流程数据传入工厂内的电脑</li></ul></li><li><p>节点分配</p><ul><li>计算和存储能力较低的嵌入式设备网关和移动终端作为区块链轻节点</li><li>工厂内的电脑可以作为全节点运行，将部分电脑指定为矿工，之后矿工身份的撤销和加入可投票决定</li></ul></li><li><p>数据上链</p><ul><li>轻节点收集的数据作为交易自动发送向固定的地址（实时数据到矿工，非实时数据到“存储”智能合约）</li><li>全节点维持区块链，全节点中的矿工收集交易打包进区块，添加到区块链，由轻节点发送的实时数据先上传到Swarm，获取数据哈希然后再存入区块链。全节点本手收集到的业务流程数据作为普通交易进行存储处理。</li></ul></li><li><p>共识协议</p><ul><li>需要能指定事先指定矿工，之后矿工身份的撤销和加入由投票决定</li><li>矿工自发的完成交易收集和打包工作，无需激励机制</li><li>轻节点收集的实时数据并不会全网广播，而是发送到最近的矿工，矿工固定时间或数据量上传Swarm获取哈希然后存入区块链</li></ul><blockquote><p>实时数据直接上链的存储成本是区块链无法承受的，故需要先上传到Swarm再将哈希存入区块链，然而这种情况必然是收集到一定量的数据再统一哈希上链，也就是说真正数据实时的上链是无法达到的。</p><p>同样可区分的是，传感器数据的存入必然和传感器ID一起，否则无法区分。所以，同一时间收到一个传感器的单个数据不值得打包，但众多传感器数据的合集是值得打包的，所以这种情况下数据的实时上链有可能，但依赖于传感器数量的多少。</p><p>第三个问题的保证嵌入式网关能找到最近的矿工节点，并确认其在线情况，收集的数据只能发送给一个矿工，否则多个矿工会将相同的数据存入Swarm。</p><p>其它问题&mldr;.这边有许多细节需要考虑</p></blockquote></li><li><p>智能合约</p><ul><li><p>“存储”智能合约，节点会将非实时的数据发送到该合约地址，数据因此存入区块链。合约需要对易购的数据加标签方便之后查询</p></li><li><p>“读取权限定义”智能合约，进行权限等级定义，由各矿工达成共识。</p></li><li><p>“读取权限查询”智能合约，需要读取数据时应先查询其权限。</p><p>因为区块链的数据其实是透明的，所有区块链节点都可访问，所以这里的读取权限：1）可能指节点加入区块链的权限，2）区块链中的数据其实是加密过的，这里的权限决定是否授予解密密钥，3）不是所有的数据都需要如此严格，可能许多数据可以被公开访问</p></li><li><p>“设备注册“智能合约（可选），写入数据的设备注册，只有注册后的设备传递的数据会被收集</p><p>等等，实际上，需要哪些类型的智能合约，如何进行设计还需要继续考虑</p></li></ul></li><li><p>数据访问</p><ul><li>因为存储的数据是分布式的，对其进行访问的速度需要进行优化</li></ul></li><li><p>性能分析</p><ul><li>数据存入的性能分析，支持多大的并发等等</li><li>数据访问的性能分析</li></ul></li><li><p>安全分析</p><ul><li>以单个制造工厂可能面临的安全攻击来分析该方案面对各种攻击的性能</li><li>假设某节点为恶意节点，模拟某些攻击方式进行攻击</li></ul></li></ul><a class=post-dummy-target id=22-仿真实验设计></a><h3>2.2 仿真实验设计</h3><p>数据生成：各种数据的生成（实时、非实时、工业流程数据）都通过软件模拟产生，后期可能会使用树莓派等实物</p><p>一个轻节点使用电脑模拟，代表嵌入式设备网关</p><p>两个全节点，一个作为普通全节点维持区块链，一个作为矿工</p><p>Swarm网络搭在两个全节点上</p><p>几种智能合约编写</p><p>然后，按照方案设计中的流程实现。</p><a class=post-dummy-target id=参考文献></a><h2>参考文献</h2><p>[1] <a href=https://blog.csdn.net/np4rHI455vg29y2/article/details/79395125 target=_blank>区块链+制造业：寻觅迟迟不肯赴约的工业4.0</a></p><p>[2] <a href=https://www.infoq.cn/article/2018/08/industrial-big-data target=_blank>从“三无”数据到智能制造，工业大数据如何落地</a></p><p>[3] <a href=https://zhuanlan.zhihu.com/p/37766392 target=_blank>工业大数据之数据采集的那些事</a></p><p>[4] <a href=http://www.cnii.com.cn/gyhxxh/2018-05/31/content_2068703.htm target=_blank>工厂数字化与智能化的四个阶段</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>The article was updated on 2019-04-12</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href="//twitter.com/share?url=https%3a%2f%2fshuzang.top%2fblockchain-for-iiot%2f&text=%e5%8c%ba%e5%9d%97%e9%93%be%e4%b8%8e%e5%b7%a5%e4%b8%9a%e7%89%a9%e8%81%94%e7%bd%91&via=" target=_blank title="Share on Twitter"><i class="fab fa-twitter fa-fw"></i></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fshuzang.top%2fblockchain-for-iiot%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook-square fa-fw"></i></a><a href="//reddit.com/submit?url=https%3a%2f%2fshuzang.top%2fblockchain-for-iiot%2f&title=%e5%8c%ba%e5%9d%97%e9%93%be%e4%b8%8e%e5%b7%a5%e4%b8%9a%e7%89%a9%e8%81%94%e7%bd%91" target=_blank title="Share on Reddit"><i class="fab fa-reddit fa-fw"></i></a></span></div></div></div><div class=post-info-more><section><span class=tag><a href=https://shuzang.top/tags/%E7%A0%94%E7%A9%B6%E6%80%9D%E8%B7%AF/><i class="fas fa-tag fa-fw"></i>&nbsp;研究思路</a>&nbsp;</span></section><section><span><a href=javascript:window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=https://shuzang.top>Home</a></span></section></div><div class=post-nav><a href=https://shuzang.top/2019/04/%E6%8F%90%E5%8F%96%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%9A%84%E5%8C%BA%E5%9D%97%E4%BA%A7%E7%94%9F%E6%97%B6%E9%97%B4/ class=prev rel=prev title=提取以太坊的区块产生时间><i class="fas fa-angle-left fa-fw"></i>提取以太坊的区块产生时间</a>
<a href=https://shuzang.top/2019/04/industry-4.0-development-and-application-of-intelligent-manufacturing/ class=next rel=next title="Industry 4.0 Development and Application of Intelligent Manufacturing">Industry 4.0 Development and Application of Intelligent Manufacturing<i class="fas fa-angle-right fa-fw"></i></a></div></div><div class=post-comment></div></article></div></main><footer class=footer><div class=copyright><div class=copyright-line>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreffer">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="external nofollow noopener noreffer">LoveIt<i class="far fa-heart fa-fw"></i></a></div><div class=copyright-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2020</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://shuzang.top target=_blank>shuzang</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><a href=# class=dynamic-to-top id=dynamic-to-top data-scroll><span>&nbsp;</span>
</a><script src=/js/lib/jquery/jquery.slim.min.js></script><script src=/js/lib/lazysizes/lazysizes.min.js></script><script src=/js/lib/smooth-scroll/smooth-scroll.polyfills.min.js></script><script>window.scroll=new SmoothScroll('[data-scroll]',{speed:300,speedAsDuration:true});</script><link rel=stylesheet href=/css/lib/katex/katex.min.css><script src=/js/lib/katex/katex.min.js></script><script defer src=/js/lib/katex/auto-render.min.js></script><link rel=stylesheet href=/css/lib/katex/copy-tex.min.css><script defer src=/js/lib/katex/copy-tex.min.js></script><script defer src=/js/lib/katex/mhchem.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:true},{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true},{left:"$",right:"$",display:false},]});});</script><script src=/js/blog.min.js></script></body></html>